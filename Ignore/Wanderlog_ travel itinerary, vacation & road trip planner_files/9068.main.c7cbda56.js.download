(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9068],{443707:function(e,t,n){"use strict";var r=n(431749);t.mw={prefix:r.prefix,iconName:r.iconName,icon:[r.width,r.height,r.aliases,r.unicode,r.svgPathData]},t.BE=t.mw,r.prefix,r.iconName,r.width,r.height,r.aliases,r.unicode,r.svgPathData,r.aliases},431749:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="calendar-days",r=["calendar-alt"],o="f073",i="M152 24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H64C28.7 64 0 92.7 0 128v16 48V448c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V192 144 128c0-35.3-28.7-64-64-64H344V24c0-13.3-10.7-24-24-24s-24 10.7-24 24V64H152V24zM48 192h80v56H48V192zm0 104h80v64H48V296zm128 0h96v64H176V296zm144 0h80v64H320V296zm80-48H320V192h80v56zm0 160v40c0 8.8-7.2 16-16 16H320V408h80zm-128 0v56H176V408h96zm-144 0v56H64c-8.8 0-16-7.2-16-16V408h80zM272 248H176V192h96v56z";t.definition={prefix:"far",iconName:n,icon:[448,512,r,o,i]},t.faCalendarDays=t.definition,t.prefix="far",t.iconName=n,t.width=448,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i,t.aliases=r},814133:function(e,t){"use strict";var n="minus",r=[8211,8722,10134,"subtract"],o="f068",i="M416 256c0 17.7-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32s14.3-32 32-32l352 0c17.7 0 32 14.3 32 32z";t.mw={prefix:"fas",iconName:n,icon:[448,512,r,o,i]},t.EZ=t.mw},966089:function(e,t,n){"use strict";var r=n(438495);t.mw={prefix:r.prefix,iconName:r.iconName,icon:[r.width,r.height,r.aliases,r.unicode,r.svgPathData]},t.O2=t.mw,r.prefix,r.iconName,r.width,r.height,r.aliases,r.unicode,r.svgPathData,r.aliases},438495:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="user-group",r=[128101,"user-friends"],o="f500",i="M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3zM609.3 512H471.4c5.4-9.4 8.6-20.3 8.6-32v-8c0-60.7-27.1-115.2-69.8-151.8c2.4-.1 4.7-.2 7.1-.2h61.4C567.8 320 640 392.2 640 481.3c0 17-13.8 30.7-30.7 30.7zM432 256c-31 0-59-12.6-79.3-32.9C372.4 196.5 384 163.6 384 128c0-26.8-6.6-52.1-18.3-74.3C384.3 40.1 407.2 32 432 32c61.9 0 112 50.1 112 112s-50.1 112-112 112z";t.definition={prefix:"fas",iconName:n,icon:[640,512,r,o,i]},t.faUserGroup=t.definition,t.prefix="fas",t.iconName=n,t.width=640,t.height=512,t.ligatures=r,t.unicode=o,t.svgPathData=i,t.aliases=r},409206:function(e,t,n){"use strict";n.d(t,{d:function(){return a}});var r=n(296540),o=n(623902);const i=(e,t=100,n=!1)=>{const i=(0,o.A)(e),a=r.useRef(),l=[t,n,i];function c(){a.current&&clearTimeout(a.current),a.current=void 0}function s(){a.current=void 0}return r.useEffect((()=>c),l),r.useCallback((function(){const e=arguments,{current:r}=a;if(void 0===r&&n)return a.current=setTimeout(s,t),i.current.apply(null,e);r&&clearTimeout(r),a.current=setTimeout((()=>{a.current=void 0,i.current.apply(null,e)}),t)}),l)},a=(e,t,n)=>{const o=r.useState(e);return[o[0],i(o[1],t,n)]}},153815:function(e,t,n){"use strict";var r=n(296540),o=n(791971);t.A=function(e,t,n,i){const a=r.useRef(n),l=r.useRef(i);(0,o.A)((()=>{a.current=n,l.current=i})),(0,o.A)((()=>{const n=e&&"current"in e?e.current:e;if(!n)return;let r=0;function o(...e){r||a.current.apply(this,e)}n.addEventListener(t,o);const i=l.current;return()=>{r=1,n.removeEventListener(t,o),i&&i()}}),[e,t])}},623902:function(e,t,n){"use strict";var r=n(296540);t.A=e=>{const t=r.useRef(e);return r.useEffect((()=>{t.current=e})),t}},791971:function(e,t,n){"use strict";const r=n(296540)["undefined"!=typeof document&&void 0!==document.createElement?"useLayoutEffect":"useEffect"];t.A=r},955229:function(e,t,n){"use strict";n.d(t,{SO:function(){return s}});var r=n(409206),o=n(153815);const i={},a="undefined"==typeof window?null:window,l=()=>[document.documentElement.clientWidth,document.documentElement.clientHeight],c=(e=i)=>{const{wait:t,leading:n,initialWidth:c=0,initialHeight:s=0}=e,[u,m]=(0,r.d)("undefined"==typeof document?[c,s]:l,t,n),d=()=>m(l);return(0,o.A)(a,"resize",d),(0,o.A)(a,"orientationchange",d),u},s=e=>c(e)[0]},181081:function(e,t,n){"use strict";n.d(t,{bl:function(){return v}});var r=n(3453),o=n(296540),i=n(32485),a=n.n(i),l=n(622343),c=n(968483),s=n(32940),u=(n(270259),n(683056)),m=n(569620),d=o.memo((function(e){var t=e.children,n=(0,u.F5)(),i=(0,o.useState)(n?f(n):"lg"),a=(0,r.A)(i,2),s=a[0],d=a[1],g=(0,c.D)((function(e){var t=f(e);t!==s&&d(t)}),[s]);return(0,m.S)(10),o.createElement(l.A,{onWidthChange:g},(function(e){return o.createElement("div",{ref:e,className:p(s)},t)}))}));function f(e){for(var t=Object.keys(s.hF),n="xl",r=1;r!==t.length;r++)if(e<s.hF[t[r]]-16){n=t[r-1];break}return n}function p(e){var t=g.indexOf(e);return a()(g.map((function(e,n){return{["ComponentBreakpoints__".concat(e,"_down")]:n>=t,["ComponentBreakpoints__".concat(e,"_up")]:n<=t}})))}var g=Object.keys(s.hF);function v(e){return"ComponentBreakpoints__".concat(e)}t.Ay=d},23505:function(e,t,n){"use strict";var r,o=n(58168),i=n(3453),a=n(180045),l=n(296540),c=n(925630),s=n(504291),u=n(66014),m=n(451684),d=n(654332),f=n(762299),p=n(968483),g=n(865619),v=n(347093),h=n(741767),y=n(661293),P=["options","value","placeholder","onChange","toggleProps","hideSelectedCheckmark","selectedTextPrefix","right","alwaysShowPlaceholder","showAsBottomSheetOnMobile","toggleLabelMode","closeMenuOnItemClick","dropdownMenuClassName"];!function(e){e.iconOnly="iconOnly",e.textAndIcon="textAndIcon"}(r||(r={}));var b=r.textAndIcon;function A(e){var t=e.options,n=e.value,A=e.placeholder,E=e.onChange,k=e.toggleProps,w=e.hideSelectedCheckmark,x=e.selectedTextPrefix,D=e.right,C=e.alwaysShowPlaceholder,N=e.showAsBottomSheetOnMobile,T=e.toggleLabelMode,S=(e.closeMenuOnItemClick,e.dropdownMenuClassName),O=(0,a.A)(e,P),I=(0,l.useState)(!1),B=(0,i.A)(I,2),L=B[0],H=B[1],_=(0,g.xI)(H,!1),M=(0,g.eY)(L,H),R=(null==A?void 0:A.value)||"",j=(0,m.h)(t).find((function(e){return"label"!==e.type&&e.value===n}));if(j&&!C){var z,F=(T||b)===r.textAndIcon;R=l.createElement(l.Fragment,null,x,"icon"===(null===(z=j.bubbleOrIcon)||void 0===z?void 0:z.type)&&l.createElement(d.A,{icon:j.bubbleOrIcon.icon,className:F?"mr-2":void 0}),F&&j.label)}var G=(0,p.D)((function(){M(),"split"===(null==k?void 0:k.toggle)&&k.onCaretClick&&k.onCaretClick()}),[M,k]),J=(0,l.useMemo)((function(){return{caret:!0,tag:"node"===(null==A?void 0:A.type)?"div":void 0,onClick:M}}),[null==A?void 0:A.type,M]),V=(0,l.useCallback)((function(){return"split"===(null==k?void 0:k.toggle)?l.createElement(h.A,(0,o.A)({},k,{onCaretClick:G,unroundSides:"right"})):l.createElement(c.A,(0,o.A)({},J,k),l.createElement("span",{className:"mr-1"},R))}),[J,G,R,k]),U=(0,p.D)((function(e){E&&E(e)}),[E]),W={value:n,onChange:U,hideSelectedCheckmark:w,options:t},K=(0,y.g)({showAsBottomSheetOnMobile:N,isOpen:L}),Y=K.isDropdownOpen,Q=K.isBottomSheetOpen;return l.createElement(l.Fragment,null,l.createElement("div",{className:N?"d-none d-sm-block":void 0},l.createElement(s.A,(0,o.A)({},O,{isOpen:Y,toggle:M}),V(),l.createElement(m.A,(0,o.A)({},W,{right:D,dropdownMenuClassName:S})))),N&&l.createElement("div",{className:"d-sm-none"},V(),l.createElement(f.Ay,{onDismiss:_,mobilePositionMode:N?"bottomSheet":"withMargins",isOpen:Q,isAutomaticallyTriggered:!1},l.createElement("div",{className:"py-3"},l.createElement(u.A,{toggle:M},l.createElement(v.A,W))))))}A=l.memo(A),t.A=A},741767:function(e,t,n){"use strict";var r=n(58168),o=n(180045),i=n(296540),a=n(32485),l=n.n(a),c=n(925630),s=n(31226),u=n(651954),m=n(980602),d=(n(967467),n(968483)),f=["onCaretClick","caretClickEvent","caretClickEventProperties","stopPropagation"],p=i.memo((function(e){var t=e.onCaretClick,n=e.caretClickEvent,a=e.caretClickEventProperties,p=e.stopPropagation,g=(0,o.A)(e,f),v=g.size,h=g.color,y=g.loading,P=null!=h?h:"dark",b=(0,d.D)((function(e){p&&e.stopPropagation(),t()}),[t,p]),A=(0,d.D)((function(e){var t;e.stopPropagation(),null===(t=g.onClick)||void 0===t||t.call(g,e)}),[g]);return i.createElement(c.A,{className:"p-0 m-0 border-0",tag:"div"},i.createElement("div",{className:"d-flex"},i.createElement(u.Ay,(0,r.A)({},g,{onClick:A,className:l()(g.className,{"pl-2":y}),size:v,color:P,unroundSides:"right"})),i.createElement("div",{className:"d-flex py-1 SplitDropdownToggle__divider_".concat(P)},i.createElement("div",{className:"d-flex py-1 SplitDropdownToggle__line_".concat(P)})),i.createElement(u.Ay,{color:P,faIcon:s.Jt,faIconProps:{color:"brand"===P?m.ON:m.c3},onClick:b,clickEvent:n||null,eventProperties:a,size:v,unroundSides:"left"})))}));t.A=p},422337:function(e,t,n){"use strict";n.d(t,{b:function(){return r}});var r="https://chrome.google.com/webstore/detail/wanderlog/ppklhnpdbmedfmgidedifnpdfcdlfijn"},99395:function(e,t,n){"use strict";n.d(t,{Cp:function(){return a},ER:function(){return m},EZ:function(){return c},Ki:function(){return u},Q8:function(){return l},Qg:function(){return o},eg:function(){return s},ou:function(){return i}});var r=n(419409),o=(0,r.z)("Plan new trip"),i=(0,r.z)("New trip",{translationNote:"A new travel itinerary plan"}),a=(0,r.z)("Plan a new trip"),l="/plan/create/plan",c=(0,r.z)("Create new guide"),s=(0,r.z)("New guide",{translationNote:"A new travel guide"}),u=(0,r.z)("Create a new guide"),m="/plan/create/recommendations"},447258:function(e,t,n){"use strict";n.r(t);var r=n(310467),o=n(364467),i=n(3453),a=n(395950),l=n.n(a),c=n(296540),s=n(916756),u=n(402404),m=n(778291),d=n(27988),f=n(933800),p=n(908142),g=n(616041),v=n(881694),h=n(466780),y=n(710106),P=n(114036),b=n(968483),A=n(191362),E=n(865619),k=n(898975),w=n(183400),x=n(761059),D=n(400087),C=n(584981),N=n(981289),T=n(79697),S=n(380320),O=n(515718),I=n(425615),B=n(867654);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _=(0,s.PA)((function(){var e,t,n,r=(0,m.Bd)().i18n,o=(0,p.hI)(),a=o.deleting,s=o.deleteTripPlan,L=o.data,_=o.error,R=(0,g.nc)(),j=R.maybeShowLoginOrSubscribeModal,z=R.user,F=(0,v.Be)(),G=F.data,J=F.setValue,V=F.setValueWithChange,U=(0,O.Hk)(),W=(0,P.XS)(),K=W.discountInfoState,Y=(0,D.z_)(),Q=(0,c.useState)(!1),Z=(0,i.A)(Q,2),q=Z[0],X=Z[1],$=(0,E.xI)(X,!1),ee=(0,k.I)(),te=ee.initialEmailId,ne=ee.emailTitle,re=null;if(te){var oe=parseInt(te,10);isNaN(oe)||(re=oe)}var ie=ne?decodeURI(ne):null;(0,c.useEffect)((function(){null!=re&&ie&&X(!0)}),[re,ie]);var ae=G.dismissedWebSubscriptionsHomePromoForDiscountId,le=G.gmailReconnectionInfo,ce=(0,b.D)((function(){j({openedFrom:"HomePage",firstFeatureName:null})}),[j]),se=(0,b.D)((function(){var e;"done"===(null==K?void 0:K.status)&&null!==(e=K.result)&&void 0!==e&&e.id&&J("dismissedWebSubscriptionsHomePromoForDiscountId",K.result.id)}),[K,J]),ue=(0,c.useState)(!1),me=(0,i.A)(ue,2),de=me[0],fe=me[1];(0,c.useEffect)((function(){var e=setTimeout((function(){return fe(!0)}),1e3);return function(){return clearTimeout(e)}}),[]);var pe=(0,b.D)((function(){J("dismissedHomePromoForHotelBookingTime",Date.now())}),[J]),ge=(0,b.D)((function(){J("dismissedHomePromoForMapExtensionTime",Date.now())}),[J]),ve=(0,b.D)((function(){V("dreamTripContestInfo",(function(e){return H(H({},e),{},{dismissedPromoTime:Date.now()})}))}),[V]),he=(0,b.D)((function(){V("airbnbPromoInfo",(function(e){return H(H({},e),{},{dismissedHeaderPromoAt:Date.now()})}))}),[V]),ye=(0,b.D)((function(){V("gmailReconnectionInfo",(function(e){return H(H({},e),{},{dismissedPromoMillis:Date.now()})}))}),[V]),Pe=(0,c.useMemo)((function(){return l()(a)}),[a]),be=(0,b.D)((function(e){s(e)}),[s]);(0,c.useEffect)((function(){M({plansPageRedesign:o,subscriptionsInfo:W,localI18n:r})}),[r,o,W]);var Ae=(0,d.qd)(z),Ee=(0,B.k)(),ke=(0,c.useMemo)((function(){var e,t,n;return null===Ae||null!=le&&le.dismissedPromoMillis?z&&!(0,h.en)(z.clientLatestSubscription)&&null!=L&&L.ownTripPlans.length&&(0,h.Ne)(z)&&"done"===(null==K?void 0:K.status)&&K.result&&K.result.id!==ae?c.createElement(y.A,{canStartTrial:(0,h.BA)(z),discount:K.result,onStartTrialOrSubscribe:ce,onClose:se}):(0,O.Ck)({isDreamTripContestActive:U,dismissedTime:null===(e=G.dreamTripContestInfo)||void 0===e?void 0:e.dismissedPromoTime,tripVersion:null})?c.createElement(S.A,{onClose:ve}):null!==(t=G.airbnbPromoInfo)&&void 0!==t&&t.dismissedHeaderPromoAt?G.dismissedHomePromoForHotelBookingTime?G.dismissedHomePromoForMapExtensionTime||Y?null:c.createElement(x.A,{isTrialOrProUser:(0,h.en)((null==z?void 0:z.clientLatestSubscription)||null),onClose:ge}):c.createElement(C.A,{onClose:pe}):c.createElement(T.A,{onClose:he,tripPlanKey:(null==L||null===(n=L.heroTrip)||void 0===n?void 0:n.key)||null}):c.createElement(I.A,{data:Ae,onDismiss:ye,onReconnectClick:Ee})}),[Ae,null==le?void 0:le.dismissedPromoMillis,z,null==L?void 0:L.ownTripPlans.length,null==L||null===(e=L.heroTrip)||void 0===e?void 0:e.key,K,ae,U,null===(t=G.dreamTripContestInfo)||void 0===t?void 0:t.dismissedPromoTime,null===(n=G.airbnbPromoInfo)||void 0===n?void 0:n.dismissedHeaderPromoAt,G.dismissedHomePromoForHotelBookingTime,G.dismissedHomePromoForMapExtensionTime,Y,ye,Ee,ce,se,ve,he,pe,ge]),we=(0,c.useMemo)((function(){return ke?c.createElement(u.A,{isOpen:de},ke):null}),[de,ke]),xe=(0,c.useMemo)((function(){var e;return null!==(e=null==L?void 0:L.hotelDeals)&&void 0!==e?e:[]}),[null==L?void 0:L.hotelDeals]);return c.createElement(w.dZ,null,c.createElement(N.Lz,{hotelDeals:xe},c.createElement(f.A,{data:L,onDelete:be,deletingTripPlanKeys:Pe,error:_,promo:we}),null!=re&&null!=ie&&c.createElement(A.A,{isOpen:q,toggle:$,emailTitle:ie,initialEmailId:re})))}));function M(e){return R.apply(this,arguments)}function R(){return(R=(0,r.A)(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.plansPageRedesign,r=t.subscriptionsInfo,o=t.localI18n,e.abrupt("return",Promise.all([new p.ck(n,o).loadTripPlans(!0),new P.iK(r).loadDiscountInfo()]));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}_.loadData=function(e){var t=e.store,n=e.localI18n;return M({plansPageRedesign:t.plansPageRedesign,subscriptionsInfo:t.subscriptionsInfo,localI18n:n})},t.default=_},616322:function(e,t,n){"use strict";var r=n(3453),o=n(296540),i=n(32485),a=n.n(i),l=n(916756),c=n(374350),s=n(842856),u=n(653197),m=n(56894),d=n(439057),f=n(979075),p=n(917293),g=n(709638),v=n(158956),h=n(616041),y=n(577180),P=n(865619),b=n(968483),A=(n(815176),n(243856)),E=n(545346),k=n(526179),w=(0,l.PA)((function(e){var t=e.tripPlan,n=e.onDelete,i=e.isDeleting,l=e.maxCollaboratorBubbles,w=e.deletingClassName,x=t.key,D=t.title,C=t.id,N=t.type,T=t.headerImageKey,S=(0,o.useState)(!1),O=(0,r.A)(S,2),I=O[0],B=O[1],L=(0,h.nc)().user,H=T&&(0,u.Of)({key:T,size:"80"}),_=(0,b.D)((function(){(0,g.sx)(v.J.deleteFromHomepage,{pageSection:"HomePageCardRow"}),n&&n()}),[n]),M=(0,b.D)((function(){B(!0),(0,g.sx)(v.J.shareFromHomepage)}),[]),R=(null==L?void 0:L.id)===t.user.id;return o.createElement(o.Fragment,null,o.createElement("div",{className:"HomePageCardRow d-flex position-relative"},o.createElement(c.A,{to:(0,y.mC)({key:t.key,title:t.title}),className:"d-flex rounded cursor-pointer link-unstyled"},i?o.createElement("div",{className:a()("HomePageCardRow__image bg-light d-flex justify-content-center align-items-center",w)},o.createElement(d.A,{size:"2x"})):o.createElement(m.A,{className:"HomePageCardRow__image",src:null!=H?H:void 0,alt:t.title}),o.createElement("div",{className:"d-flex flex-column justify-content-center ml-3"},o.createElement(E.A,{isDraft:t.isDraft,startDate:t.startDate,tripPlanType:t.type,className:"align-self-start mb-1"}),o.createElement("span",{className:"font-size-18 mb-2 pr-4"},t.title),t.type===A.J.plan&&o.createElement(p.A,{collaborators:t.collaborators,maxCollaboratorBubbles:l||5,startDate:t.startDate,endDate:t.endDate,placeCount:t.placeCount}),t.type===A.J.recommendations&&o.createElement(s.A,{className:"color-gray-600",likeCount:t.likeCount,viewCount:t.viewCount,commentCount:null}))),o.createElement(f.A,{onDelete:n?_:null,onShare:M,containerClassName:"HomePageCardRow__threeDotsMenu pt-2",threeDotsButtonColor:"flat-secondary",isTripPlanOwner:R})),o.createElement(k.A,{isOpen:I,tripPlanKey:x,tripPlanTitle:D,onDismiss:(0,P.xI)(B,!1),tripPlanId:C,tripPlanType:N,tripmates:t.collaborators,loggedInUserId:(null==L?void 0:L.id)||null,ownerId:t.user.id,onTripmateChanged:null,canShareInViewMode:!0,defaultShareKeyType:null}))}));t.A=w},933820:function(e,t,n){"use strict";n.d(t,{F:function(){return r}});var r,o=n(58168),i=n(3453),a=n(597551),l=n.n(a),c=n(778291),s=n(296540),u=n(349107),m=n(279162),d=n(504291),f=n(925630),p=n(552801),g=n(32485),v=n.n(g),h=n(916756),y=n(241811),P=n(374350),b=n(613030),A=n(494300),E=n(888676),k=n(158956),w=n(651954),x=n(683056),D=n(692840),C=n(290667),N=n(709638),T=n(616041),S=n(883499),O=n(968483),I=(n(552688),n(243856)),B=n(735914),L=n(41298),H=n(608080),_=n(558148),M=n(273633),R=n(981289),j=n(389662),z=n(23505),F=n(252068);!function(e){e.yourTrips="Trips",e.yourGuides="Guides",e.yourFriendsPlans="Your friends plans",e.allGuides="All guides"}(r||(r={}));var G=(0,h.PA)((function(e){var t=(0,c.Bd)().t,n=e.tripPlans,a=e.heroTripPlan,g=e.title,h=e.seeAllLinks,y=e.onDelete,G=e.deletingTripPlanKeys,W=e.socialInfoColor,K=e.registerView,Y=e.showSortBy,Q=(0,F.qz)({tripPlans:n,heroTripPlan:a,isOwnProfile:Y}),Z=Q.sortedTripPlans,q=Q.sortBy,X=Q.setSortBy,$=(0,T.nc)().user,ee=$?$.username:"",te=(0,R.RI)(),ne=(0,M.ez)({withinTripPlan:!1}),re=ne.hotelDealPromosDismissed,oe=ne.onHotelDealPromoDismiss,ie=(0,C.j)(oe),ae=te.filter((function(e){return(0,M.AZ)({hotelDealPromosDismissed:re,dealId:e.id})})),le=(0,s.useCallback)((function(e){switch(e){case r.yourTrips:return(0,_.A)(ee,I.J.plan);case r.yourGuides:return(0,_.A)(ee,I.J.recommendations);case r.yourFriendsPlans:return(0,L.k)();case r.allGuides:return H.E;default:throw(0,B.t)(e)}}),[ee]),ce=(0,x.QU)(),se=(0,s.useMemo)((function(){var e=Math.min(Math.round(ce/308),4),t=Math.round(ce/408),r=n.length;return r>=e?e:r<=t?t:r}),[n,ce]),ue=(0,s.useRef)(-1),me=(0,s.useMemo)((function(){var e,t,r=new Set(n.slice(0,se).map((function(e){return e.id}))),o=null!==(e=null!==(t=l()(ae.filter((function(e){return e.tripPlanId&&r.has(e.tripPlanId)})),(function(e){return e.priceDifference.amount})))&&void 0!==t?t:l()(ae,(function(e){return e.priceDifference.amount})))&&void 0!==e?e:null,i=n.findIndex((function(e){return e.id===(null==o?void 0:o.tripPlanId)}));return ue.current=i,o}),[n]),de=(0,s.useState)(U({tripPlanIndex:ue.current,currentSlideIndex:0,slidesToShow:se})),fe=(0,i.A)(de,2),pe=fe[0],ge=fe[1],ve=(0,s.useRef)(0),he=(0,O.D)((function(e,t){pe&&(U({tripPlanIndex:ue.current,currentSlideIndex:t,slidesToShow:se})||ge(!1))}),[pe,se]),ye=(0,O.D)((function(e){ve.current=e,ge(U({tripPlanIndex:ue.current,currentSlideIndex:ve.current,slidesToShow:se}))}),[se]);(0,s.useEffect)((function(){return ge(U({tripPlanIndex:ue.current,currentSlideIndex:ve.current,slidesToShow:se}))}),[se]);var Pe=(0,s.useCallback)((function(e,t){return s.createElement(w.Ay,{className:v()("justify-content-center",{HomePageCarousel__leftCarouselButton:"left"===e,HomePageCarousel__rightCarouselButton:"right"===e}),faIcon:"left"===e?u.Wz:m.Xk,faIconProps:{size:"1x"},size:S.M.mdLg,color:"icon-lightest-gray",onClick:t,clickEvent:k.J.scrollHomepageCarousel,eventProperties:{title:g,direction:e}})}),[g]),be=(0,O.D)((function(e,t){(0,N.sx)(k.J.deleteFromHomepage,{pageSection:"HomePageCarousel",title:g}),y&&y(e,t)}),[g,y]),Ae=(0,s.useCallback)((function(){return null}),[]),Ee=(0,C.j)(be||Ae),ke=!!h.length&&n.length>se,we={renderControlsButton:Pe};return s.createElement("div",null,s.createElement("div",{className:v()("d-flex justify-content-between mb-3",Y?"flex-column":"align-items-end")},s.createElement("div",{className:"font-weight-bold font-size-24"},g),s.createElement("div",{className:v()("d-flex justify-content-between align-items-center",Y&&"flex-grow-1")},Y&&s.createElement(z.A,{value:q,onChange:X,options:J(t),placeholder:null,toggleProps:V,closeMenuOnItemClick:!0,showAsBottomSheetOnMobile:!0}),ke&&(1===h.length?s.createElement(P.A,{className:"HomePageCarousel__sortByAndSeeAll HomePageCarousel__seeAllLink",to:le(h[0])},t("See all",{translationNote:"Access all available options"})):s.createElement(d.A,null,s.createElement(f.A,{tag:"div",className:"HomePageCarousel__sortByAndSeeAll cursor-pointer"},t("See all",{translationNote:"Access all available options"})),s.createElement(D.A,{right:!0},h.map((function(e){return s.createElement(p.A,{key:e,tag:P.A,to:le(e)},e)}))))))),s.createElement(E.Ay,{slidesToShow:se,slidesToScroll:se,controlButtonInfo:we,cellSpacing:E.Fd,beforeSlide:he,afterSlide:ye},Z.map((function(e){var t=e.key,n={key:t,tripPlan:e,onDelete:y?Ee(e.key,(null==$?void 0:$.id)===e.user.id):null,isDeleting:!!G.find((function(t){return t===e.key})),userId:$?$.id:null,registerView:K};return e.type===I.J.plan?me&&e.id===me.tripPlanId?s.createElement(j.A,{key:t,isOpen:(0,M.AZ)({hotelDealPromosDismissed:re,dealId:me.id})&&pe,priceDifference:me.priceDifference,onDismiss:ie(me.id),rebookTo:me.rebookUrl},s.createElement("div",null,s.createElement(b.A,n))):s.createElement(b.A,n):s.createElement(A.A,(0,o.A)({},n,{linkUserDetailsToProfile:!0,socialInfoClassName:"gray"===W?"text-muted":void 0,noFixedHeight:!0}))}))))})),J=(0,y.A)((function(e){return Object.values(F.P2).map((function(t){return{value:t,label:F.Kx[t](e),clickEvent:null}}))})),V={toggle:"regular",color:"none",className:"p-0 shadow-none border-0 HomePageCarousel__sortByAndSeeAll"};function U(e){var t=e.tripPlanIndex,n=e.currentSlideIndex,r=e.slidesToShow;return t>=n&&t<n+r}t.A=G},933800:function(e,t,n){"use strict";var r=n(310467),o=n(3453),i=n(89394),a=n(778291),l=n(296540),c=n(956347),s=n(32485),u=n.n(s),m=n(916756),d=n(709638),f=n(158956),p=n(567079),g=n(814544),v=n(973873),h=n(629164),y=n(933820),P=n(25722),b=n(788137),A=n(616041),E=n(865619),k=n(66505),w=n(520817),x=n(476098),D=n(968483),C=(n(437642),n(282879)),N=n(558148),T=n(397103),S=[],O=(0,m.PA)((function(e){var t=(0,a.Bd)().t,n=e.error,s=e.data,m=e.onDelete,O=e.deletingTripPlanKeys,L=e.promo,H=(0,A.nc)().user,_=(0,c.W6)(),M=(0,l.useMemo)((function(){return(null==s?void 0:s.friendsTripPlans)||[]}),[s]),R=(0,l.useMemo)((function(){return(null==s?void 0:s.recommendedGuides)||[]}),[s]),j=(0,l.useMemo)((function(){return(null==s?void 0:s.relatedToUpcomingGuides)||[]}),[s]),z=(0,l.useMemo)((function(){return(null==s?void 0:s.ownTripPlans)||[]}),[s]),F=(0,l.useMemo)((function(){return(null==s?void 0:s.ownGuides)||[]}),[s]),G=(0,l.useMemo)((function(){return(null==s?void 0:s.friendsPrivateSharedTripPlans)||[]}),[s]),J=(0,l.useMemo)((function(){return[].concat((0,i.A)(z),(0,i.A)(G),(0,i.A)(F))}),[z,G,F]),V=(0,l.useState)(null),U=(0,o.A)(V,2),W=U[0],K=U[1],Y=(0,l.useState)(!0),Q=(0,o.A)(Y,2),Z=Q[0],q=Q[1],X=(0,D.D)((0,r.A)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!W){e.next=5;break}return e.next=3,m(W);case 3:(0,x.oR)({text:Z?t("Successfully deleted",{translationNote:"Successful deletion of an item"}):t("Successfully left",{translationNote:"Successfully removing yourself as an editor of a trip plan document"}),color:x.TS.default}),K(null);case 5:case"end":return e.stop()}}),e)}))),[m,t,W,Z]),$=(0,E.xI)(K,null),ee=(0,D.D)((function(e,t){K(e),q(t)}),[]),te=(0,l.useCallback)((function(){null!=H&&H.username&&((0,d.sx)(f.J.clickOnMapFromHomepage),_.push((0,N.A)(H.username,"map")))}),[_,H]),ne=l.createElement(k.A,{isOpen:!!W,onCancel:$,cancelEvent:null,onConfirm:X,confirmEvent:null,title:Z?t("Delete",{translationNote:"Remove an item from a list"}):t("Leave",{translationNote:"For non-primary editor to remove their access to a trip document"}),body:t(Z?"Are you sure you want to delete this trip plan? This action is not reversible!":"Are you sure you want to leave this trip plan? This action is not reversible!"),confirmButtonLabel:t(Z?"Yes, delete it":"Yes, leave it"),confirmButtonColor:"danger",cancelButtonLabel:t(Z?"No, don't delete":"No, don't leave"),initialFocus:"cancel"});if((0,l.useEffect)((function(){n&&n.errTypes[0]===v.L4.notLoggedIn&&(window.location.href="/")}),[n]),n||!H)return l.createElement(p.A,null,l.createElement("div",{className:"HomePageInner__noDataPage align-items-start"},l.createElement(h.A,{color:"danger",response:n})));if(!s)return l.createElement(g.A,{containerClassName:"HomePageInner__noDataPage"});var re=M.length>=3,oe=j.length>0,ie=R.length>=3,ae=re||oe||ie;return l.createElement(p.A,{showNavbarTooltips:!0},l.createElement("div",{className:"container pt-4"},L&&l.createElement("div",{className:"HomePageInner__promo"},L),l.createElement(b.A,{tripPlans:J,onDelete:ee,deletingTripPlanKeys:O,heroTripPlan:(null==s?void 0:s.heroTrip)||null})),l.createElement("div",{className:"HomePageInner__hotelBooking bg-gray-100"},l.createElement("div",{className:"container"},l.createElement(C.A,{hotelBookingInfo:null,entryPoint:T.sg.homePage,exploreGeoId:null}))),l.createElement("div",{className:"container"},l.createElement("div",{className:"HomePageInner__map position-relative"},l.createElement(w.A,{onClick:te,geos:H.geos})),l.createElement("div",{className:"HomePageInner__yourTripsAndGuides"},l.createElement(P.A,{tripPlans:z,guides:F,onDelete:ee,deletingTripPlanKeys:O,username:H.username})),ae&&l.createElement("div",{className:"font-weight-bold font-size-36 mb-4"},t("Explore",{translationNote:"For discovering new places, attractions, and written guides"})),re&&l.createElement(y.A,{title:t("What your friends are up to"),tripPlans:M,seeAllLinks:I,onDelete:null,deletingTripPlanKeys:S,registerView:!1,heroTripPlan:null,showSortBy:!1}),oe&&l.createElement("div",{className:u()({"mt-5":re})},l.createElement(y.A,{title:t("Related to your upcoming trip"),tripPlans:j,seeAllLinks:S,onDelete:null,deletingTripPlanKeys:S,registerView:!0,heroTripPlan:null,showSortBy:!1})),ie&&l.createElement("div",{className:u()({"mt-5":oe||re})},l.createElement(y.A,{title:t("Popular destinations",{translationNote:"Frequently visited travel locations"}),tripPlans:R,seeAllLinks:B,onDelete:null,deletingTripPlanKeys:S,registerView:!0,heroTripPlan:null,showSortBy:!1})),ne))})),I=[y.F.yourFriendsPlans],B=[y.F.allGuides];t.A=O},520817:function(e,t,n){"use strict";var r=n(296540),o=n(84817),i=n(521881),a=r.memo((function(e){var t=e.geos,n=e.onClick;return r.createElement(o.A,{isOpen:!1,toggle:n,hasNavbar:!1,geos:t,friendData:null,onSelectedGeoChange:null,selectedGeo:null,onToggleSelectedGeo:null},(function(){return r.createElement(i.A,{geos:t,onUpdateMapClick:n,onSummaryClick:n,onToggleLeaderboard:null,makeOwnMapLinkUrl:null})}))}));t.A=a},788137:function(e,t,n){"use strict";var r=n(778291),o=n(296540),i=n(328045),a=n(374350),l=n(674780),c=n(419409),s=n(651954),u=n(158956),m=n(933820),d=n(99395),f=n(883499),p=o.memo((function(e){var t=(0,r.Bd)().t,n=e.tripPlans,c=e.onDelete,p=e.deletingTripPlanKeys,h=e.heroTripPlan,y=(0,o.useMemo)((function(){return{pageSection:"RecentlyViewedAndUpcoming"}}),[]);return o.createElement("div",null,o.createElement("div",{className:"d-md-flex justify-content-between align-items-center mb-4"},o.createElement("div",{className:"font-weight-bold font-size-36"},g(t)),o.createElement(s.Ay,{className:"mt-2 mt-md-0",faIcon:i.QL,label:(0,d.Qg)(t),labelTextClassName:"ml-1",color:"brand",to:d.Q8,clickEvent:u.J.clickCreateTripPlanFromHomepage,eventProperties:y,size:f.M.mdLg})),n.length?o.createElement(m.A,{tripPlans:n,seeAllLinks:v,onDelete:c,deletingTripPlanKeys:p,socialInfoColor:"gray",registerView:!0,showSortBy:!0,heroTripPlan:h}):o.createElement("div",null,o.createElement(r.x6,null,"You haven’t created anything yet."," ",o.createElement(a.A,{className:"text-brand font-weight-bold",to:d.Q8},(0,l.Q)({createTripPlanCtaLinkText:(0,d.Cp)(t)})),".")))})),g=(0,c.z)("Recently viewed and upcoming");t.A=p;var v=[m.F.yourTrips,m.F.yourGuides]},757913:function(e,t,n){"use strict";var r=n(778291),o=n(296540),i=n(328045),a=n(32485),l=n.n(a),c=n(916756),s=n(374350),u=n(616322),m=n(651954),d=n(290667),f=n(616041),p=n(883499),g=(n(563307),(0,c.PA)((function(e){var t=(0,r.Bd)().t,n=e.title,a=e.ctaButtonText,c=e.ctaButtonShortText,g=e.ctaLinkText,v=e.ctaUrl,h=e.tripPlans,y=e.emptyText,P=e.seeAllUrl,b=e.className,A=e.onDelete,E=e.deletingTripPlanKeys,k=e.clickEvent,w=(0,f.nc)().user,x=(0,d.j)(A),D=(0,o.useMemo)((function(){return{pageSection:"YourTripsAndGuidesColumn"}}),[]);return o.createElement("div",{className:l()("d-flex flex-column align-items-end w-100 p-4 bg-light rounded",b)},o.createElement("div",{className:"d-flex justify-content-between w-100 mb-4"},o.createElement("div",{className:"font-weight-bold font-size-24"},n),o.createElement(m.Ay,{className:"d-none d-sm-flex",faIcon:i.QL,label:a,labelTextClassName:"ml-1",color:"gray",to:v,clickEvent:k,eventProperties:D,size:p.M.mdLg}),o.createElement(m.Ay,{className:"d-sm-none",faIcon:i.QL,label:c,labelTextClassName:"ml-1",color:"gray",to:v,clickEvent:k,eventProperties:D,size:p.M.mdLg})),o.createElement("div",{className:"w-100"},h.length?o.createElement("div",{className:"mb-4"},h.map((function(e,t){return o.createElement(o.Fragment,{key:e.key},0!==t&&o.createElement("hr",{className:"YourTripsAndGuidesColumn__horizontalLine my-3"}),o.createElement(u.A,{tripPlan:e,onDelete:x(e.key,(null==w?void 0:w.id)===e.user.id),isDeleting:!!E.find((function(t){return t===e.key})),deletingClassName:"YourTripsAndGuidesColumn__cardRow",registerView:!0}))}))):o.createElement("div",null,y," ",o.createElement(s.A,{className:"text-brand font-weight-bold",to:v},g),".")),P&&o.createElement(s.A,{className:"YourTripsAndGuidesColumn__seeAllLink",to:P},t("See all",{translationNote:"Access all available options"})))})));t.A=g},25722:function(e,t,n){"use strict";var r=n(778291),o=n(296540),i=n(757913),a=n(99395),l=n(158956),c=n(243856),s=n(558148),u=o.memo((function(e){var t=(0,r.Bd)().t,n=e.tripPlans,u=e.guides,m=e.username,d=e.onDelete,f=e.deletingTripPlanKeys;return o.createElement("div",{className:"YourTripsAndGuidesSection d-flex flex-column flex-md-row"},o.createElement(i.A,{className:"mr-0 mr-md-3 mb-3 mb-md-0",title:t("Your trips",{translationNote:"List of current user's trip plan documents"}),ctaButtonText:(0,a.Qg)(t),ctaButtonShortText:(0,a.ou)(t),ctaLinkText:(0,a.Cp)(t),ctaUrl:a.Q8,tripPlans:n.slice(0,2),onDelete:d,deletingTripPlanKeys:f,seeAllUrl:n.length>2?(0,s.A)(m,c.J.plan):null,emptyText:t("You don’t have any trip plans yet."),clickEvent:l.J.clickCreateTripPlanFromHomepage}),o.createElement(i.A,{title:t("Your guides",{translationNote:"List of guides"}),ctaButtonText:(0,a.EZ)(t),ctaButtonShortText:(0,a.eg)(t),ctaLinkText:(0,a.Ki)(t),ctaUrl:a.ER,tripPlans:u.slice(0,2),onDelete:d,deletingTripPlanKeys:f,seeAllUrl:u.length>2?(0,s.A)(m,c.J.recommendations):null,emptyText:t("You don’t have any guides yet."),clickEvent:l.J.clickCreateGuideFromHomepage}))}));t.A=u},234796:function(e,t,n){"use strict";n.d(t,{F:function(){return l},q:function(){return a}});var r=n(310467),o=n(956347),i=n(968483),a={checkIn:null,checkOut:null,geo:null,guests:null};function l(e){var t=e.onGetHotelBookingUrl,n=e.onUrlChange,a=(0,o.W6)();return{handleBookingSubmit:(0,i.D)((0,r.A)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(r=e.sent){e.next=5;break}return e.abrupt("return");case 5:n&&n(r),a.push(r);case 7:case"end":return e.stop()}}),e)}))),[a,t,n])}}},282879:function(e,t,n){"use strict";var r=n(58168),o=n(364467),i=n(180045),a=n(778291),l=n(32485),c=n.n(l),s=n(296540),u=n(140094),m=n(916756),d=n(517093),f=n(968483),p=n(523290),g=(n(31886),n(181081)),v=n(56894),h=n(1773),y=n(397103),P=n(234796),b=["onGetHotelBookingUrl","isBookingInfoLoading"];function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var k=(0,m.PA)((function(e){var t=(0,a.Bd)().t,n=e.hotelBookingInfo,o=e.entryPoint,l=e.onUrlChange,m=e.exploreGeoId,A=(0,h.Nb)(),k=(0,d.c)(E(E({},n||P.q),{},{anonymousId:null,tripPlanKey:A,exploreGeoId:m,loginToken:null})),w=k.onGetHotelBookingUrl,x=k.isBookingInfoLoading,D=(0,i.A)(k,b),C=(0,P.F)({onGetHotelBookingUrl:w,onUrlChange:l}).handleBookingSubmit,N=(0,y.$C)(o),T=(0,f.D)((function(e){e&&N()}),[N]);return s.createElement(g.Ay,null,s.createElement("div",{className:"position-relative"},s.createElement(u.pL,{onChange:T},s.createElement("div",{className:(0,g.bl)("d-lg-flex")},s.createElement("div",{className:"flex-grow-1"},s.createElement(p.A,(0,r.A)({},D,{submit:(0,s.useMemo)((function(){return{onBookingSubmit:C,isLoading:x}}),[C,x]),title:t("Need a place to stay?"),theme:"dark",fieldsSpacing:"py-4",twoRowsOnXsScreens:!0,setLayoutVeryCompactOnAllScreens:!0,focusDateOnGeoChange:!0,keepDatePickerOpenOnDateSelect:!0}))),s.createElement("div",{className:c()("d-none flex-shrink-0 HotelBookingSection__imagePlaceholder ml-5",(0,g.bl)("d-lg-block"))})),s.createElement(v.A,{src:"/assets/HotelBookingView__image.png",className:c()("d-none HotelBookingSection__image position-absolute",(0,g.bl)("d-lg-block"))}))))}));t.A=k},264586:function(e,t,n){"use strict";var r=n(58168),o=n(310467),i=n(364467),a=n(180045),l=n(778291),c=n(296540),s=n(846874),u=n(916756),m=n(762299),d=n(695996),f=n(523290),p=n(517093),g=n(968483),v=(n(604236),n(1773)),h=n(651954),y=n(403305),P=n(158956),b=n(342781),A=n(532884),E=["onGetKayakBookingInfo","isBookingInfoLoading","onGetHotelBookingUrl"];function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var x=(0,u.PA)((function(e){var t=(0,l.Bd)().t,n=e.onSubmit,i=e.isOpen,u=e.onDismiss,k=e.hotelBookingInfo,x=e.exploreGeoId,C=(0,v.Nb)(),N=(0,p.c)(w(w({},k||D),{},{anonymousId:null,tripPlanKey:C,exploreGeoId:x,loginToken:null})),T=N.onGetKayakBookingInfo,S=N.isBookingInfoLoading,O=N.onGetHotelBookingUrl,I=(0,a.A)(N,E),B=(0,g.D)((0,o.A)(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=7;break}return e.next=3,T();case 3:"done"===(t=e.sent).status&&n(t.result),e.next=11;break;case 7:return e.next=9,O();case 9:(r=e.sent)&&(0,A.e)(r);case 11:case"end":return e.stop()}}),e)}))),[O,T,n]);return c.createElement(m.Ay,{className:"HotelBookingModal",isOpen:i,onDismiss:u,isAutomaticallyTriggered:!1,mobilePositionMode:"withMargins"},c.createElement(d.Ay,{toggle:u},c.createElement("div",{className:"font-size-24"},t("Book hotels",{translationNote:"Make room reservation at a hotel"}))),c.createElement(s.A,{className:"pt-2"},c.createElement(f.A,(0,r.A)({},I,{submit:(0,c.useMemo)((function(){return{onBookingSubmit:B,isLoading:S}}),[B,S]),title:null,theme:"light",twoRowsOnXsScreens:!0,focusDateOnGeoChange:!0,keepDatePickerOpenOnDateSelect:!0,setLayoutVeryCompactOnAllScreens:!1})),c.createElement("div",{className:"text-center pt-3"},c.createElement(h.Ay,{label:t("Manage {{siteName}} hotel bookings",{siteName:b.pu}),color:"flat-secondary",to:y.YH,target:"_blank",clickEvent:P.J.viewLodgingItinerariesPage}))))})),D={geo:null,checkIn:null,checkOut:null,guests:null};t.A=x},646007:function(e,t,n){"use strict";var r=n(296540),o=n(264586),i=n(183400),a=r.memo((function(e){var t=e.isVisible,n=e.onDismiss;return r.createElement(i.dZ,null,r.createElement(o.A,{onDismiss:n,onSubmit:null,hotelBookingInfo:null,exploreGeoId:null,isOpen:t}))}));t.A=a},988861:function(e,t,n){"use strict";var r=n(58168),o=n(296540),i=n(735686),a=n(651954),l=n(56894),c=n(883499),s=n(980602),u=n(991546),m=o.memo((function(e){var t=e.title,n=e.body,s=e.theme,u=e.image,m=e.actionButtonProps,f=d[s],p=f.background,g=f.accent;return o.createElement("div",{className:"d-flex flex-column rounded-lg p-4 justify-content-center align-items-center gap-4",style:{backgroundImage:'url(\'data:image/svg+xml,<svg width="343" height="411" fill="'.concat(encodeURIComponent(g),'" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(%23clip0_522_151)"><path d="M118.37 37.48C80.442 27.233 67.283 11.698 45.997-17.059L352.907-24l15.094 40.326-21.286 125.94c-9.805 5.95-36.612 16.857-65.406 12.89-35.993-4.957-53.796-44.291-53.796-44.291s-12.772-28.426-37.154-45.284-34.058-17.85-71.985-28.096z"/></g></svg>\')'),backgroundColor:p,backgroundSize:"cover"}},o.createElement(l.A,{src:u,width:200}),o.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center gap-2 text-center"},o.createElement(i.A,{noPadding:!0,tag:"h2"},t),o.createElement("p",{className:"text-muted"},n),m&&o.createElement(a.Ay,(0,r.A)({color:"dark",size:c.M.md},m))))})),d={[u.m.redLightest]:{background:s.yS,accent:s.M$},[u.m.yellowLightest]:{background:s.Bg,accent:s.X8},[u.m.tealLightest]:{background:s.j,accent:s.NM},[u.m.greenLightest]:{background:s.Mx,accent:s.im},[u.m.indigoLightest]:{background:s.v4,accent:s.pi},[u.m.purpleLightest]:{background:s.fw,accent:s.jZ},[u.m.indigoLightestDarkAccent]:{background:s.v4,accent:s.P8},[u.m.yellowLightestPurpleAccent]:{background:s.Bg,accent:s.jZ},[u.m.yellowLightestRedAccent]:{background:s.Bg,accent:s.M$}};t.A=m},191362:function(e,t,n){"use strict";var r=n(58168),o=n(310467),i=n(778291),a=n(296540),l=n(825392),c=n(516506),s=n(738067),u=n(968483),m=n(205411),d=n(476098),f=a.memo((function(e){var t=(0,i.Bd)().t,n=e.initialEmailId,f=e.emailTitle,p=e.toggle,g=(0,c.IR)(s.z4),v=g.call,h=g.state;(0,a.useEffect)((function(){v()}),[v]);var y=(0,c.IR)((0,u.D)(function(){var e=(0,o.A)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(0,m.V8)({key:t,emailId:n,addBlocks:!0});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n])),P=y.call,b=y.state,A=(0,u.D)(function(){var e=(0,o.A)(regeneratorRuntime.mark((function e(n,r){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P(n);case 2:"done"===e.sent.status&&((0,d.oR)({text:t("{{emailSubject}} added to {{tripPlanTitle}}",{emailSubject:f,tripPlanTitle:r}),color:d.TS.default}),p());case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[P,t,f,p]);return a.createElement(l.A,(0,r.A)({},e,{onAddToDoc:A,buttonsLoading:"inProgress"===(null==b?void 0:b.status),listUserTripPlansState:h}))}));t.A=f},825392:function(e,t,n){"use strict";var r=n(3453),o=n(778291),i=n(296540),a=n(846874),l=n(762299),c=n(695996),s=n(651954),u=n(158956),m=n(883499),d=n(968483),f=(n(973803),n(243856)),p=n(752301),g=n(571955),v=i.memo((function(e){var t=(0,o.Bd)().t,n=e.isOpen,m=e.toggle,v=e.emailTitle,y=e.buttonsLoading,P=e.onAddToDoc,b=e.initialEmailId,A=e.listUserTripPlansState,E=(0,i.useMemo)((function(){return"done"===(null==A?void 0:A.status)?A.result:[]}),[A]),k=(0,i.useState)(null),w=(0,r.A)(k,2),x=w[0],D=w[1];(0,i.useEffect)((function(){n||D(null)}),[n]);var C=(0,d.D)((function(){var e=E.find((function(e){return e.key===x}));if(e){var t=e.key,n=e.title;P(t,n)}}),[E,P,x]),N=(0,d.D)((function(e){var t=e.key;y||D(t)}),[y]),T=(0,i.useMemo)((function(){return i.createElement("div",{className:"text-center"},t("You have no trip plans created yet. Create a new trip plan to get started."))}),[t]);return i.createElement(l.Ay,{isOpen:n,onDismiss:m,isAutomaticallyTriggered:!1,mobilePositionMode:"withMargins"},i.createElement(c.Ay,{size:c.$v.md,toggle:m},v),i.createElement(a.A,{className:"d-flex flex-column align-items-center p-4"},i.createElement("div",{className:"SaveToDocModalInner__body w-100 px-3"},i.createElement(g.A,{listUserTripPlansState:A,onTripPlanSelect:N,selectedTripPlanKey:x,emptyComponent:T,showDivider:!0,tripPlanClassName:"px-3"})),i.createElement("div",{className:"mt-4"},i.createElement("div",{className:"d-flex justify-content-center"},E.length>0&&i.createElement(s.Ay,{clickEvent:u.J.clickSaveEmailToDocButton,onClick:C,loading:y,label:t("Add to this trip"),color:"brand",className:"mr-1",size:h}),i.createElement(s.Ay,{clickEvent:u.J.clickSaveEmailToNewDocButton,to:(0,p.Wm)({type:f.J.plan,initialEmailId:b}),disabled:y,label:t("Create new trip"),color:"light-brand",size:h})))))})),h=m.M.mdLg;t.A=v},571955:function(e,t,n){"use strict";var r=n(296540),o=n(881617),i=n(249922),a=n(228825),l=n(283681),c=n(324209),s=n(274522),u=n(290667),m=r.memo((function(e){var t=e.onTripPlanSelect,n=e.listUserTripPlansState,m=e.selectedTripPlanKey,d=e.emptyComponent,f=e.showDivider,p=e.tripPlanClassName,g=(0,s.AE)().datePreference,v=(0,r.useMemo)((function(){return"done"===(null==n?void 0:n.status)?n.result:[]}),[n]),h=(0,u.j)(t);return r.createElement("div",null,n?"inProgress"===n.status?r.createElement("div",{className:"d-flex justify-content-center"},r.createElement(i.A,null)):"error"===n.status?r.createElement("div",{className:"text-danger text-center"},n.error):0===v.length&&d:d,v.map((function(e,t){return r.createElement(a.A,{clickEvent:null,onClick:h(e),key:e.key},0!==t&&r.createElement(r.Fragment,null,f?r.createElement("hr",{className:"my-2"}):r.createElement("div",{className:"py-2"})),r.createElement("div",{className:p},r.createElement(l.A,{primaryText:e.title,secondLineText:(0,c.U2)({startDateInput:e.startDate,endDateInput:e.endDate},g),secondLineFontSize:"14",icon:e.key===m?o.e6:void 0})))})))}));t.A=m},380320:function(e,t,n){"use strict";var r=n(778291),o=n(296540),i=n(265186),a=n(158956),l=n(575149),c=n(284204),s=n(991546),u=o.memo((function(e){var t=(0,r.Bd)().t,n=e.onClose,u=(0,o.useMemo)((function(){return{onClick:void 0,to:l.k,clickEvent:a.J.clickSeeContestDetails,label:(0,c.tG)(t)}}),[t]);return o.createElement(i.A,{badge:(0,o.useMemo)((function(){return{text:(0,c.Yp)(t),uppercase:!0}}),[t]),title:(0,c.PV)(t),body:(0,c.OE)(t),theme:s.m.yellowLightestPurpleAccent,image:"/assets/DreamTripContestPage__image.png",centerImage:!0,actionButtonProps:u,secondaryButtonProps:null,closeButtonProps:(0,o.useMemo)((function(){return n?{clickEvent:a.J.dismissDreamTripContestPromo,onClick:n}:null}),[n])})}));t.A=u},425615:function(e,t,n){"use strict";var r=n(296540),o=n(778291),i=n(991546),a=n(158956),l=n(265186),c=n(879456),s=n(133727),u=n(552450),m=r.memo((function(e){var t=(0,o.Bd)().t,n=e.data,m=e.onDismiss,f=e.onReconnectClick,p=(0,r.useMemo)((function(){return{onClick:f,clickEvent:a.J.clickReconnectGmail,label:(0,c.xh)(t),eventProperties:d}}),[f,t]),g=(0,r.useMemo)((function(){return n?r.createElement(s.A,{Bold:u.A,email:n.email,days:n.daysUntilExpiration,shortenText:!0}):null}),[n]);return r.createElement(l.A,{badge:(0,r.useMemo)((function(){return{text:(0,c.dw)(t),color:"primary",uppercase:!0}}),[t]),title:(0,c.x1)(t),body:g,theme:i.m.indigoLightest,image:"/assets/GmailReconnectionPromo__mailboxTransparent.png",centerImage:!0,actionButtonProps:p,secondaryButtonProps:null,closeButtonProps:(0,r.useMemo)((function(){return m?{clickEvent:a.J.dismissGmailReconnectionPromoOrModal,onClick:m}:null}),[m])})})),d={source:"GmailReconnectionPromo"};t.A=m},991546:function(e,t,n){"use strict";var r;n.d(t,{m:function(){return r}}),function(e){e.redLightest="redLightest",e.yellowLightest="yellowLightest",e.tealLightest="tealLightest",e.greenLightest="greenLightest",e.purpleLightest="purpleLightest",e.indigoLightest="indigoLightest",e.indigoLightestDarkAccent="indigoLightestDarkAccent",e.yellowLightestPurpleAccent="yellowLightestPurpleAccent",e.yellowLightestRedAccent="yellowLightestRedAccent"}(r||(r={}))},265186:function(e,t,n){"use strict";var r=n(58168),o=n(364467),i=n(778291),a=n(296540),l=n(719179),c=n(32485),s=n.n(c),u=n(735686),m=n(674545),d=n(651954),f=n(56894),p=n(181081),g=n(883499),v=(n(358347),n(988861)),h=n(991546);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b=a.memo((function(e){var t,n=(0,i.Bd)().t,o=e.title,c=e.body,y=e.theme,b=e.image,A=e.actionButtonProps,E=e.secondaryButtonProps,k=e.closeButtonProps,w=e.badge,x=e.restrictImageWidth,D=e.children,C=e.centerImage,N=e.useDiv,T=e.mobileLayout,S=void 0===x||!0===x,O=y||h.m.yellowLightest,I=O===h.m.yellowLightestPurpleAccent?h.m.purpleLightest:O,B=A?P(P({color:"dark",label:n("Got it",{translationNote:"Understood; dismiss a pop-up"})},A),{},{layout:"inline"}):null,L=E?P(P({color:"transparent-black-outline",label:n("Dismiss",{translationNote:"Dismiss a pop-up"})},E),{},{layout:"inline"}):null,H=a.createElement("div",{className:"HeaderPromoWithButtons__container HeaderPromoWithButtons__".concat(O," position-relative")},a.createElement("div",{className:"d-flex flex-row justify-content-between"},a.createElement("div",{className:s()((0,p.bl)("py-lg-4"),(0,p.bl)("pl-lg-4"),"py-3 pl-3 pr-2")},w?a.createElement(m.A,{color:null!==(t=w.color)&&void 0!==t?t:"yellowWithWhiteText",className:"mb-2 ".concat(w.uppercase?"text-uppercase":"")},w.text):null,a.createElement(u.A,{className:"HeaderPromoWithButtons__header",useDiv:N,noPadding:!0},o),a.createElement("div",{className:"HeaderPromoWithButtons__body mt-2"},c),B&&a.createElement(a.Fragment,null,a.createElement("div",{className:"d-flex flex-column ".concat((0,p.bl)("d-sm-none")," mt-3 align-items-start")},a.createElement(d.Ay,(0,r.A)({},B,{size:g.M.md})),L&&a.createElement("div",{className:"mt-2"},a.createElement(d.Ay,(0,r.A)({},L,{size:g.M.md})))),a.createElement("div",{className:"d-none ".concat((0,p.bl)("d-sm-flex")," ").concat((0,p.bl)("d-lg-none")," mt-3")},a.createElement(d.Ay,(0,r.A)({},B,{size:g.M.mdLg})),L&&a.createElement(d.Ay,(0,r.A)({},L,{size:g.M.mdLg,color:"transparent-black",className:"ml-2"}))),a.createElement("div",{className:"d-none ".concat((0,p.bl)("d-lg-flex")," mt-3")},a.createElement(d.Ay,(0,r.A)({},B,{size:g.M.lg})),L&&a.createElement(d.Ay,(0,r.A)({},L,{size:g.M.lg,className:"ml-2"})))),D&&a.createElement("div",{className:"mt-4"},D)),a.createElement("div",null,a.createElement("div",{className:"d-none ".concat((0,p.bl)("d-sm-flex")," justify-content-center position-relative h-100 HeaderPromoWithButtons__background")},a.createElement(f.A,{src:"/assets/HeaderPromoWithButtons__".concat(I,"Bg.png"),className:"position-absolute top-0 right-0 rounded h-100 HeaderPromoWithButtons__background"}),a.createElement(f.A,{src:b,className:s()("position-relative",C?"align-self-center":"align-self-end",S?"HeaderPromoWithButtons__image":"w-100")})),a.createElement("div",{className:"d-flex ".concat((0,p.bl)("d-sm-none")," justify-content-center h-100")},a.createElement(f.A,{src:b,className:s()("align-self-center HeaderPromoWithButtons__image",S?"HeaderPromoWithButtons__image":"w-100")})))),k&&a.createElement(d.Ay,(0,r.A)({},k,{faIcon:l.GR,color:"flat",className:"HeaderPromoWithButtons__closeButton"})));return"tall"===T?a.createElement(p.Ay,null,a.createElement("div",{className:(0,p.bl)("d-sm-none")},a.createElement(v.A,{title:o,body:c,image:b,theme:O,actionButtonProps:B})),a.createElement("div",{className:"d-none ".concat((0,p.bl)("d-sm-block"))},H)):a.createElement(p.Ay,null,H)}));t.A=b},584981:function(e,t,n){"use strict";var r=n(3453),o=n(778291),i=n(296540),a=n(265186),l=n(403305),c=n(646007),s=n(865619),u=n(158956),m=n(709638),d=n(991546),f=i.memo((function(e){var t=(0,o.Bd)().t,n=e.onClose,f=(0,i.useState)(!1),p=(0,r.A)(f,2),g=p[0],v=p[1],h=(0,s.xI)(v,!1),y=(0,s.xI)(v,!0);return(0,i.useEffect)((function(){(0,m.sx)(u.J.showHotelBookingHomePromo)}),[]),i.createElement(i.Fragment,null,i.createElement(a.A,{title:t("Experience a better hotel search"),body:t("Most hotel sites rank results by how much hotels pay them. Not us, we rank hotels based on your price and rating preferences. We’ve got your back, simple as that."),image:"/assets/HotelBookingPromo__image.png",theme:d.m.purpleLightest,restrictImageWidth:!1,centerImage:!0,actionButtonProps:(0,i.useMemo)((function(){return{label:t("Search hotels",{translationNote:"For finding accommodations to book"}),clickEvent:u.J.clickSearchHotelsHotelBookingHomePromo,onClick:y}}),[y,t]),secondaryButtonProps:(0,i.useMemo)((function(){return{label:t("Learn more",{translationNote:"Access more content or options"}),clickEvent:u.J.clickLearnMoreHotelBookingHomePromo,to:l.I6}}),[t]),closeButtonProps:(0,i.useMemo)((function(){return n?{clickEvent:u.J.dismissHotelBookingHomePromo,onClick:n}:null}),[n])}),i.createElement(c.A,{isVisible:g,onDismiss:h}))}));t.A=f},239150:function(e,t,n){"use strict";var r=n(778291),o=n(296540),i=n(719179),a=n(32485),l=n.n(a),c=n(402404),s=n(158956),u=n(651954),m=n(588084),d=n(968483),f=n(532884),p=n(832296),g=n(239652),v=n(181081),h=n(273633),y=o.memo((function(e){var t=(0,r.Bd)().t,n=e.isOpen,a=e.priceDifference,y=e.onDismiss,b=e.rebookTo,A=e.theme,E=(0,d.D)((function(){return(0,f.e)(b)}),[b]);return o.createElement(v.Ay,null,o.createElement(c.A,{isOpen:n},o.createElement("div",{className:l()("d-flex cursor-pointer rounded-16 bg-indigo-lightest p-2 justify-content-between",P[A].containerClassName),onClick:E},o.createElement("div",{className:"d-flex"},o.createElement(p.A,{size:P[A].imageBubbleSize,src:"/assets/HotelPriceDropPromo__icon.png"}),o.createElement("div",{className:"ml-2 text-indigo text-left"},o.createElement("div",{className:l()("font-weight-bold",P[A].titleClassName)},(0,h.GQ)(t)),o.createElement("div",{className:P[A].textClassName},(0,h.dN)(a,t)),o.createElement(u.Ay,{label:t("Rebook",{translationNote:"To make another reservation after a cancellation"}),color:"primary",layout:"inline",to:b,clickEvent:s.J.clickHotelPriceDropPromo,className:l()("mt-2",(0,v.bl)("d-sm-none"))}))),o.createElement("div",{className:l()("ml-2 d-flex flex-column justify-content-between align-items-end",(0,v.bl)("d-sm-none"))},o.createElement(g.A,{directions:["top","right"],className:"pr-2"},o.createElement(u.Ay,{faIcon:i.GR,onClick:(0,m.E)(y),clickEvent:s.J.dismissHotelPriceDropPromo,color:"flat-secondary",layout:"inline"}))),o.createElement("div",{className:l()("mx-2 align-items-center d-none",(0,v.bl)("d-sm-flex"))},o.createElement(u.Ay,{label:t("Rebook",{translationNote:"To make another reservation after a cancellation"}),color:"primary",layout:"inline",to:b,clickEvent:s.J.clickHotelPriceDropPromo}),o.createElement(g.A,{directions:["top","bottom","right"]},o.createElement(u.Ay,{faIcon:i.GR,onClick:(0,m.E)(y),clickEvent:s.J.dismissHotelPriceDropPromo,color:"flat-secondary",layout:"inline"}))))))})),P={[h.JH.default]:{containerClassName:"shadow",titleClassName:"font-size-14",textClassName:"small",imageBubbleSize:"md"},[h.JH.large]:{titleClassName:"font-size-18",textClassName:"font-size-14",imageBubbleSize:"48"}};t.A=y},389662:function(e,t,n){"use strict";var r=n(58168),o=n(180045),i=n(296540),a=n(239150),l=n(364894),c=(n(709343),n(273633)),s=["children"];function u(e){var t=e.children,n=(0,o.A)(e,s),u=e.onDismiss,m=e.isOpen,d=(0,i.useMemo)((function(){return i.createElement(a.A,(0,r.A)({},n,{theme:c.JH.large}))}),[n]);return i.createElement(l.A,{hideDismissButton:!0,body:d,innerClassName:"HotelPriceDropTargetedPromo__promo rounded-16",toggle:u,isAutomaticallyTriggered:!1,theme:l.t.indigoLightest,isOpen:m,placement:"bottom",flip:!1,positionFixed:!1},t)}u.displayName="HotelPriceDropTargetedPromo",u=i.memo(u),t.A=u},79697:function(e,t,n){"use strict";var r=n(778291),o=n(296540),i=n(265186),a=n(403305),l=n(158956),c=n(991546),s=o.memo((function(e){var t=e.onClose,n=e.tripPlanKey,s=(0,r.Bd)().t;return o.createElement(i.A,{title:s("Hotel search now includes Airbnb"),body:s("See all your lodging options on one page for the best comparison."),image:"/assets/HotelSearchWithAirbnbHeaderPromo_promo.png",actionButtonProps:(0,o.useMemo)((function(){return{to:(0,a.hH)({exploreGeoId:null,loginToken:null,tripPlanKey:n}),clickEvent:l.J.clickAirbnbHotelBookingHomePromo,label:s("Search for lodging")}}),[s,n]),closeButtonProps:(0,o.useMemo)((function(){return t?{clickEvent:l.J.dismissAirbnbPromo,onClick:t}:null}),[t]),secondaryButtonProps:null,badge:(0,o.useMemo)((function(){return{text:s("NEW FEATURE",{translationNote:"A new addition to a product or service"})}}),[s]),centerImage:!0,restrictImageWidth:!1,theme:c.m.yellowLightestRedAccent})}));t.A=s},761059:function(e,t,n){"use strict";var r=n(778291),o=n(296540),i=n(265186),a=n(422337),l=n(158956),c=n(991546),s=o.memo((function(e){var t=(0,r.Bd)().t,n=e.isTrialOrProUser,s=e.onClose,u=(0,o.useMemo)((function(){return{to:a.b,target:"_blank",clickEvent:l.J.clickDownloadFromMapExtensionPromo,eventProperties:{source:"MapExtensionPromo"},label:t(n?"Free for Pro users":"Free 7-day trial")}}),[n,t]),m=(0,o.useMemo)((function(){return{clickEvent:l.J.dismissMapExtensionPromo,eventProperties:{source:"MapExtensionPromo"},onClick:s}}),[s]);return o.createElement(i.A,{title:t("Add places from anywhere on the web"),body:t("Get our Chrome extension to level up your travel planning"),image:"/assets/MapExtensionPromo__promo.png",actionButtonProps:u,closeButtonProps:m,theme:c.m.indigoLightestDarkAccent,restrictImageWidth:!1,secondaryButtonProps:null})}));t.A=s},710106:function(e,t,n){"use strict";var r=n(778291),o=n(296540),i=n(265186),a=n(158956),l=n(673311),c=n(709638),s=n(108280),u=o.memo((function(e){var t=(0,r.Bd)().t,n=e.onStartTrialOrSubscribe,u=e.discount,m=e.onClose,d=e.canStartTrial;return(0,o.useEffect)((function(){(0,c.sx)(a.J.showSubscriptionsHomePromo)}),[]),o.createElement(i.A,{title:(0,l.tZ)(u,t),body:t("Plan like a Pro with features like offline access, optimize route, and more."),image:"/assets/SubscriptionsPromo__features.png",actionButtonProps:(0,o.useMemo)((function(){return{onClick:n,clickEvent:a.J.startTrialOrSelectPlanFromPromo,eventProperties:{source:"SubscriptionsPromo"},label:(0,l.hL)({canStartTrial:d,t})}}),[d,n,t]),secondaryButtonProps:(0,o.useMemo)((function(){return{clickEvent:null,label:t("Learn more",{translationNote:"Access more content or options"}),to:(0,s.jy)(),target:"_blank"}}),[t]),closeButtonProps:(0,o.useMemo)((function(){return m?{clickEvent:a.J.dismissSubscriptionsHomePromo,onClick:m}:null}),[m]),badge:(0,o.useMemo)((function(){return null!=u&&u.promoBadge?{text:u.promoBadge}:void 0}),[null==u?void 0:u.promoBadge])})}));t.A=u},721350:function(e,t,n){"use strict";n.d(t,{r:function(){return i}});var r=n(310467),o=n(516506);function i(e,t,n,r){return a.apply(this,arguments)}function a(){return(a=(0,r.A)(regeneratorRuntime.mark((function e(t,n,r,i){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.Vh)(t,n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},205411:function(e,t,n){"use strict";n.d(t,{V8:function(){return d},Zs:function(){return p},dV:function(){return a},o9:function(){return c},x_:function(){return u}});var r=n(310467),o=n(699144),i=n(882222);function a(e){return l.apply(this,arguments)}function l(){return(l=(0,r.A)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.cB)({url:"/api/tripPlans/".concat(t,"/forwardedEmails")});case 2:return n=e.sent,e.abrupt("return",(0,i.p0)(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(e){return s.apply(this,arguments)}function s(){return(s=(0,r.A)(regeneratorRuntime.mark((function e(t){var n,r,a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.key,r=t.emailId,a=t.lowPriority,e.next=3,(0,o.cB)({url:"/api/tripPlans/".concat(n,"/emails/").concat(r),lowPriority:a});case 3:return l=e.sent,e.abrupt("return",(0,i.p0)(l));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function u(e){return m.apply(this,arguments)}function m(){return(m=(0,r.A)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.cB)({url:"/api/emails/".concat(t)});case 2:return n=e.sent,e.abrupt("return",(0,i.p0)(n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return f.apply(this,arguments)}function f(){return(f=(0,r.A)(regeneratorRuntime.mark((function e(t){var n,r,a,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.key,r=t.emailId,a=t.addBlocks,e.next=3,(0,o.cB)({url:"/api/tripPlans/".concat(n,"/emails/").concat(r),data:{addBlocks:a},method:"POST"});case 3:return l=e.sent,e.abrupt("return",(0,i.p0)(l));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return g.apply(this,arguments)}function g(){return(g=(0,r.A)(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,o.cB)({url:"/api/emails/rate",method:"POST",data:t});case 2:n=e.sent,(0,i.p0)(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},973873:function(e,t,n){"use strict";n.d(t,{L4:function(){return o}});var r,o,i=n(419409);!function(e){e.googleAccount="googleAccount",e.facebookAccount="facebookAccount",e.appleAccount="appleAccount",e.password="password",e.noEmailAccount="noEmailAccount"}(r||(r={})),function(e){e.notLoggedIn="notLoggedIn"}(o||(o={}));var a;o.notLoggedIn,(0,i.z)("You must be logged in");!function(e){e.google="google",e.facebook="facebook",e.apple="apple",e.emailAndPassword="emailAndPassword",e.activationKey="activationKey",e.loginToken="loginToken"}(a||(a={}))},947363:function(e,t,n){"use strict";n.d(t,{C:function(){return r}});var r=110},397103:function(e,t,n){"use strict";n.d(t,{$C:function(){return u},Wl:function(){return s},sg:function(){return r}});var r,o=n(296540),i=n(947363),a=n(968483),l=n(709638),c=n(158956),s=160;i.C;function u(e){var t=(0,o.useRef)(!1);return(0,a.D)((function(){t.current||(t.current=!0,(0,l.sx)(c.J.viewHotelBookingEntryPoint,{entryPoint:e}))}),[e])}!function(e){e.reservationEmails="Reservation emails",e.mapButton="Map button",e.itineraryDays="Itinerary days",e.homeBottomButton="Home bottom button",e.explore="Explore",e.homePage="Home page",e.hotelLandingPage="Hotel landing page",e.hotelLandingPageFooter="Hotel landing page footer",e.explorePage="Explore page",e.importEmailsModal="Import emails modal",e.placesListPage="Places list page"}(r||(r={}))},273633:function(e,t,n){"use strict";n.d(t,{AZ:function(){return g},GQ:function(){return m},JH:function(){return r},Mg:function(){return f},dN:function(){return d},ez:function(){return p}});var r,o=n(364467),i=n(419409),a=n(881694),l=n(968483),c=n(590720);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,o.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.default="default",e.large="large"}(r||(r={}));var m=(0,i.z)("Your hotel price may have dropped!",{maxCharsPerLine:c.$D,maxLines:c.U6});function d(e,t){return t("Save {{amount, currency}}! Check location/dates & cancel original booking if refundable.",{amount:e.amount,formatParams:{amount:{currency:e.currencyCode}},maxCharsPerLine:c.Jg,maxLines:c.yM})}function f(e,t){var n;return e.emailId?t.receivedEmailId===e.emailId:!(!e.hotel||t.googlePlaceId!==e.place.place_id||!t.dates||t.dates.startDate!==e.hotel.checkIn||t.dates.endDate!==e.hotel.checkOut)||!(!t.confirmationNumber||t.confirmationNumber!==(null===(n=e.hotel)||void 0===n?void 0:n.confirmationNumber))}function p(e){var t=e.withinTripPlan,n=(0,a.Be)(),r=n.data,o=r.hotelDealPromosDismissed,i=r.tripPlanHotelDealPromosDismissed,c=n.setValue,s=(0,l.D)((function(e){e&&(t?c("tripPlanHotelDealPromosDismissed",u(u({},i),{},{[e]:!0})):c("hotelDealPromosDismissed",u(u({},o),{},{[e]:!0})))}),[o,c,i,t]);return{hotelDealPromosDismissed:t?i:o,onHotelDealPromoDismiss:s}}function g(e){var t=e.hotelDealPromosDismissed,n=e.dealId;return!t||!t[n]}},895397:function(e,t,n){"use strict";n.d(t,{LG:function(){return i},eq:function(){return a}});n(747248);var r=n(473916),o=n.n(r);function i(e,t){return o()(e,t)}function a(e,t){for(var n={},r=0,o=Object.values(e);r<o.length;r++){var i=o[r];n[i]=t(i)}return n}},908142:function(e,t,n){"use strict";n.d(t,{Cs:function(){return D},ck:function(){return w},hI:function(){return C}});var r,o,i=n(364467),a=n(310467),l=n(754167),c=n(92901),s=n(23029),u=n(109417),m=n(885501),d=n(56822),f=n(353954),p=n(793),g=n(590179),v=n.n(g),h=n(722451),y=n(738067),P=n(319742);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e){var t=k();return function(){var n,r=(0,f.A)(e);if(t){var o=(0,f.A)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,d.A)(this,n)}}function k(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(k=function(){return!!e})()}var w=(r=function(e){(0,m.A)(n,e);var t=E(n);function n(){var e;(0,s.A)(this,n);for(var r=arguments.length,i=new Array(r),c=0;c<r;c++)i[c]=arguments[c];return e=t.call.apply(t,[this].concat(i)),(0,l.A)(e,"deleting",o,(0,u.A)(e)),e.deleteTripPlan=function(){var t=(0,a.A)(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.deleting=A(A({},e.deleting),{},{[n]:!0}),t.prev=1,t.next=4,(0,y.Au)(n);case 4:e.store.data&&(e.store.data={ownTripPlans:e.store.data.ownTripPlans.filter((function(t){return!e.deleting[t.key]})),ownGuides:e.store.data.ownGuides.filter((function(t){return!e.deleting[t.key]})),friendsPrivateSharedTripPlans:e.store.data.friendsPrivateSharedTripPlans,friendsTripPlans:e.store.data.friendsTripPlans,heroTrip:e.store.data.heroTrip,recommendedGuides:e.store.data.recommendedGuides,heroGuide:e.store.data.heroGuide,relatedToUpcomingGuides:e.store.data.relatedToUpcomingGuides,subscriptionsInfo:e.store.data.subscriptionsInfo,hotelDeals:e.store.data.hotelDeals}),e.loadTripPlans(!0);case 6:return t.prev=6,e.deleting=v()(e.deleting,[n]),t.finish(6);case 9:case"end":return t.stop()}}),t,null,[[1,,6,9]])})));return function(e){return t.apply(this,arguments)}}(),e.loadTripPlans=(0,a.A)(regeneratorRuntime.mark((function t(){var n,r=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>0&&void 0!==r[0]&&r[0],t.next=3,e.load("",y.pU,{forceReload:n});case 3:case"end":return t.stop()}}),t)}))),e}return(0,c.A)(n)}(n(659128).A),o=(0,p.A)(r.prototype,"deleting",[h.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),r),x=(0,P.B)("plansPageRedesign",w),D=x.withStore,C=x.useStore},114036:function(e,t,n){"use strict";n.d(t,{XS:function(){return x},iK:function(){return k}});var r,o,i,a,l=n(310467),c=n(754167),s=n(92901),u=n(23029),m=n(109417),d=n(885501),f=n(56822),p=n(353954),g=n(793),v=n(722451),h=n(270762),y=n(319742),P=n(524108),b=n(721350);function A(e){var t=E();return function(){var n,r=(0,p.A)(e);if(t){var o=(0,p.A)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return(0,f.A)(this,n)}}function E(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(E=function(){return!!e})()}var k=(r=function(e){(0,d.A)(n,e);var t=A(n);function n(){var e;(0,u.A)(this,n);for(var r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return e=t.call.apply(t,[this].concat(l)),(0,c.A)(e,"loadDiscountInfo",o,(0,m.A)(e)),(0,c.A)(e,"loadSubscriptionsInfo",i,(0,m.A)(e)),(0,c.A)(e,"clearSubscriptionsInfo",a,(0,m.A)(e)),e}return(0,s.A)(n)}(h.A),o=(0,g.A)(r.prototype,"loadDiscountInfo",[v.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,l.A)(regeneratorRuntime.mark((function t(){var n,r,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=o.length>0&&void 0!==o[0]?o[0]:{},r=n.forceReload,!e.store.discountInfoState||r){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,(0,b.r)((0,P.cR)(),(function(t){e.store.discountInfoState=t}),"SubscriptionsInfoStore__discountInfo",{forceReload:r});case 5:case"end":return t.stop()}}),t)})))}}),i=(0,g.A)(r.prototype,"loadSubscriptionsInfo",[v.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return(0,l.A)(regeneratorRuntime.mark((function t(){var n,r,o=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=o.length>0&&void 0!==o[0]?o[0]:{},r=n.forceReload,!e.store.subscriptionsInfoState||r){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,(0,b.r)((0,P.ve)(),(function(t){"done"===t.status?e.store.discountInfoState={status:"done",result:t.result.discount}:"inProgress"===t.status?e.store.discountInfoState={status:"inProgress"}:e.store.discountInfoState=t,e.store.subscriptionsInfoState=t}),"SubscriptionsInfoStore__subscriptionsInfo",{forceReload:r});case 5:case"end":return t.stop()}}),t)})))}}),a=(0,g.A)(r.prototype,"clearSubscriptionsInfo",[v.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e.store.discountInfoState=null,e.store.subscriptionsInfoState=null}}}),r),w=(0,y.B)("subscriptionsInfo",k),x=(w.withStore,w.useStore)},673311:function(e,t,n){"use strict";n.d(t,{hL:function(){return a},tZ:function(){return i}});var r=n(419409),o=n(693367);function i(e,t){return e?e.percentOff?t("Get {{percentageDiscount}}% off Pro features",{percentageDiscount:e.percentOff,maxCharsPerLine:o.ai,maxLines:o.lW}):t("Get a discount on Pro features",{maxCharsPerLine:o.ai,maxLines:o.lW}):t("Start planning like a Pro",{maxCharsPerLine:o.ai,maxLines:o.lW})}function a(e){var t=e.canStartTrial,n=e.t;return t?n("Start free trial",{maxCharsPerLine:o.q9}):n("Select plan",{translationNote:"Choose a specific subscription plan",maxCharsPerLine:o.q9})}(0,r.z)("Maximize your travel planning with offline access and more.",{maxCharsPerLine:o.WT,maxLines:o.R2})},252068:function(e,t,n){"use strict";n.d(t,{Kx:function(){return y},P2:function(){return r},qz:function(){return P}});var r,o=n(89394),i=n(3453),a=n(306498),l=n.n(a),c=n(142877),s=n.n(c),u=n(296540),m=n(795093),d=n.n(m),f=n(419409),p=n(881694),g=n(968483),v=n(735914),h=n(324209);!function(e){e.recentlyViewed="recentlyViewed",e.upcoming="upcoming"}(r||(r={}));var y={[r.recentlyViewed]:(0,f.z)("Recently viewed",{translationNote:"Saw it recently"}),[r.upcoming]:(0,f.z)("Upcoming",{translationNote:"About to happen"})};function P(e){var t,n=e.tripPlans,a=e.heroTripPlan,c=e.isOwnProfile,m=(0,p.Be)(),f=m.data,y=m.setValue,P=null!==(t=null==f?void 0:f.sortOwnTripPlansBy)&&void 0!==t?t:r.recentlyViewed,b=(0,g.D)((function(e){y("sortOwnTripPlansBy",e)}),[y]);return{sortedTripPlans:(0,u.useMemo)((function(){if(!c)return n;var e=n.filter((function(e){return e.key!==(null==a?void 0:a.key)})),t=e;switch(P){case r.recentlyViewed:t=s()(e,(function(e){return e.openedAt}),"desc");break;case r.upcoming:var u=(0,h.kT)(d()()),m=l()(e,(function(e){return!!e.startDate})),f=(0,i.A)(m,2),p=f[0],g=f[1],y=l()(p,(function(e){return e.startDate>u})),b=(0,i.A)(y,2),A=b[0],E=b[1];t=[].concat((0,o.A)(s()(A,(function(e){return e.startDate}),"asc")),(0,o.A)(s()(E,(function(e){return e.startDate}),"desc")),(0,o.A)(g));break;default:(0,v.t)(P),t=s()(e,(function(e){return e.openedAt}),"desc")}return[].concat((0,o.A)(a?[a]:[]),(0,o.A)(t))}),[a,c,P,n]),sortBy:P,setSortBy:b}}},752301:function(e,t,n){"use strict";n.d(t,{WA:function(){return c},Wm:function(){return l}});var r=n(755373),o=n.n(r),i=n(342781),a=n(318039);function l(e){var t=e.type,n=e.includeHost,r=e.geo,o=e.initialEmailId,l=e.mapPlaceId,c=n?i.vU:"",s=o?"?".concat((0,a.r)({initialEmailId:o})):"",u=r?"?".concat((0,a.r)({geoId:r.id})):s;return l&&(u="?".concat((0,a.r)({initialMapsPlaceId:l}))),"".concat(c,"/plan/create/").concat(t).concat(u)}function c(e){var t=o().stringify(e,{skipNulls:!0,arrayFormat:"brackets"});return"/plan/create/redirect?".concat(t)}},537732:function(e,t,n){"use strict";n.d(t,{_M:function(){return c},eg:function(){return l}});var r=n(296540),o=(0,n(418701).C)({forceFirstVariantForServerRender:!1},{name:"WithForceFirstVariantForServerRender"}),i=(o.withProps,o.ContextProvider),a=o.Context;function l(){return(0,r.useContext)(a).forceFirstVariantForServerRender}var c=r.memo((function(e){var t=e.children;return r.createElement(i,{forceFirstVariantForServerRender:!0},t)}))},981289:function(e,t,n){"use strict";n.d(t,{Lz:function(){return l},RI:function(){return s}});var r=n(296540),o=n(418701),i=n(36999),a=(0,o.C)({hotelDeals:[]},{name:"WithHotelDeals"}),l=(a.withProps,a.ContextProvider),c=a.Context;function s(){var e=(0,r.useContext)(c).hotelDeals;return(0,i.g)(e,[],l.name)}},1773:function(e,t,n){"use strict";n.d(t,{Mt:function(){return d},Nb:function(){return f},Ts:function(){return m},qU:function(){return c},v$:function(){return s}});var r=n(296540),o=n(418701),i=n(243856),a=n(36999),l=(0,o.C)({basicFields:null},{name:"WithTripPlanBasicFields"}),c=l.withProps,s=l.ContextProvider,u=l.Context;function m(){var e=(0,r.useContext)(u).basicFields;return(0,a.g)(e,{tripPlanType:i.J.plan,tripPlanId:null,tripPlanKey:null,tripPlanGeos:null},"TripPlanBasicFieldsProvider")}function d(){var e=(0,r.useContext)(u).basicFields;return(null==e?void 0:e.tripPlanType)||i.J.plan}function f(){var e=(0,r.useContext)(u).basicFields;return(null==e?void 0:e.tripPlanKey)||null}},588084:function(e,t,n){"use strict";n.d(t,{E:function(){return o}});var r=n(296540);function o(e){return(0,r.useCallback)((function(t){t&&t.stopPropagation(),e&&e()}),[e])}},693367:function(e,t,n){"use strict";n.d(t,{R2:function(){return l},WT:function(){return i},ai:function(){return a},lW:function(){return c},q9:function(){return o}});var r=n(590720),o=r.h5,i=r.Jg,a=r.$D,l=r.yM,c=r.U6},103335:function(e){e.exports=function(e,t){return e>t}},473916:function(e,t,n){var r=n(143360),o=n(230641),i=n(315389);e.exports=function(e,t){var n={};return t=i(t,3),o(e,(function(e,o,i){r(n,o,t(e,o,i))})),n}},597551:function(e,t,n){var r=n(293599),o=n(103335),i=n(315389);e.exports=function(e,t){return e&&e.length?r(e,i(t,2),o):void 0}},270259:function(){},358347:function(){},815176:function(){},552688:function(){},437642:function(){},604236:function(){},31886:function(){},709343:function(){},973803:function(){},967467:function(){},563307:function(){}}]);