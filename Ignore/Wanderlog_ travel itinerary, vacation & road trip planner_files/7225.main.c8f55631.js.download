"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7225],{897524:function(e,t,n){var r=n(58168),a=n(180045),i=n(296540),o=n(32485),s=n.n(o),l=n(719179),c=n(651954),u=(n(116),["label","className","theme"]),m=i.memo((function(e){var t=e.label,n=e.className,o=e.theme,m=(0,a.A)(e,u),p=null!=o?o:"default";return i.createElement("div",{className:s()("Chip d-flex flex-row align-items-center pl-3 pr-2",n,!t&&"px-0",d[p])},t&&i.createElement("span",{className:"font-weight-normal mr-1"},t),i.createElement(c.Ay,(0,r.A)({faIcon:l.GR,faIconProps:{size:"xs",fixedWidth:!0},color:"brand"===p?"flat-brand":"flat-secondary"},m)))})),d={default:"Chip__default",brand:"Chip__brand"};t.A=m},208678:function(e,t,n){var r=n(58168),a=n(296540),i=n(897524),o=(n(268624),a.memo((function(e){var t=e.label,n=e.chipInfos;return a.createElement("div",{className:"ChipInput__container"},a.createElement("span",{className:"ChipInput__label"},t),a.createElement("div",{className:"d-flex flex-wrap py-1 ml-n2 mt-n2"},n.map((function(e){return a.createElement(i.A,(0,r.A)({},e,{className:"ml-2 mt-2"}))}))))})));t.A=o},982152:function(e,t,n){var r=n(296540),a=(n(314504),n(968483)),i=n(984822),o=r.memo((function(e){var t=e.onClick,n=e.icon,o=e.label,s=e.sublabel,l=e.inlineSublabel,c=e.className,u=e.nonFocusable,m=e.showProBadge,d=(0,r.useRef)(null),p=(0,a.D)((function(){t(),null!=d&&d.current&&d.current.blur()}),[t]);return r.createElement("button",{ref:d,type:"button",tabIndex:u?-1:0,onClick:p,className:"FormButton ".concat(c||"")},r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",null,r.createElement("div",{className:"FormButton__icon mr-2"},n)),r.createElement("td",null,r.createElement("div",{className:"FormButton__label"},o)),m&&r.createElement("td",null,r.createElement("div",{className:"d-flex flex-row align-items-center mx-1"},r.createElement(i.A,null))),s&&l&&r.createElement("td",null,r.createElement("div",{className:"FormButton__sublabel"},s))),s&&!l&&r.createElement("tr",null,r.createElement("td",null),r.createElement("td",{colSpan:2},r.createElement("div",{className:"FormButton__sublabel"},s))))))}));t.A=o},146747:function(e,t,n){var r=n(58168),a=n(180045),i=n(296540),o=n(445157),s=n(982152),l=n(865619),c=["value","onChange"],u=i.memo((function(e){var t=e.value,n=e.onChange,u=(0,a.A)(e,c);return i.createElement(s.A,(0,r.A)({},u,{onClick:(0,l.eY)(t,n),icon:i.createElement(o.A,{checked:t,onChange:n}),nonFocusable:!0}))}));t.A=u},344482:function(e,t,n){n.d(t,{W:function(){return r}});var r,a=n(296540),i=n(624591),o=n(968483),s=n(709638),l=n(980602);!function(e){e.small="small",e.medium="medium",e.large="large"}(r||(r={}));var c=a.memo((function(e){var t,n=e.checked,c=e.onCheckedChange,m=e.size,d=e.clickEvent,p=e.eventProperties,f=u[null!=m?m:r.small],v=(t=f,Math.min(t.height,t.width)-4),g=(0,o.D)((function(){d&&(0,s.sx)(d,p),c(!n)}),[n,d,p,c]);return a.createElement(i.default,{onChange:g,checked:n,offColor:l.HV,onColor:l.ht,checkedIcon:!1,uncheckedIcon:!1,height:f.height,width:f.width,handleDiameter:v})})),u={[r.small]:{height:16,width:32},[r.medium]:{height:20,width:40},[r.large]:{height:24,width:48}};t.A=c},326515:function(e,t,n){var r=n(296540),a=n(32485),i=n.n(a),o=n(228825),s=n(290667);n(519029);function l(e){var t=e.value,n=e.onSelect,a=e.options,l=(0,s.j)(n);return r.createElement("div",{className:"d-flex flex-row TextRadioButtons__tabs"},a.map((function(e){return r.createElement(o.A,{key:e.label,clickEvent:null,onClick:l(e.value),className:i()("TextRadioButtons__tab px-3",{TextRadioButtons__tabSelected:e.value===t})},e.label)})))}l.displayName="TextRadioButtons",l=r.memo(l),t.A=l},676088:function(e,t,n){var r=n(778291),a=n(296540),i=n(755373),o=n.n(i),s=n(342781),l=n(984602),c=n(389225),u=n(697157),m=a.memo((function(e){var t=(0,r.Bd)().t,n=e.viewKey,i=e.options,m=(0,c.o6)(),d=o().stringify(i);return a.createElement(a.Fragment,null,!m&&a.createElement("iframe",{title:t("Embedded map",{translationNote:"A map inserted in a webpage"}),src:"".concat(s.vU,"/mapEmbed/").concat(n,"?").concat(d),style:{height:u.i1,width:"100%",border:0},frameBorder:"0"}),a.createElement("div",{style:{fontSize:"smaller"},dangerouslySetInnerHTML:{__html:(0,l.wU)(n)}}))}));t.A=m},15454:function(e,t,n){var r=n(364467),a=n(310467),i=n(89394),o=n(3453),s=n(778291),l=n(296540),c=n(166728),u=n(663465),m=n(328045),d=n(417225),p=n(208678),f=n(968483),v=n(516506),g=n(672325),y=n(735914),h=n(290667),b=n(307656),w=n(651954),E=n(158956),A=n(883499),k=(n(776938),n(709638)),O=n(738067),N=n(476098),S=n(308376);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=l.memo((function(e){var t=(0,s.Bd)().t,n=e.keyInfo,r=e.shareKeyState,j=e.reloadShareKey,P=e.initialMessage,T=e.onUsersInvited,C=(0,l.useState)([]),I=(0,o.A)(C,2),R=I[0],D=I[1],M=(0,l.useState)(P),_=(0,o.A)(M,2),K=_[0],L=_[1],F=(0,l.useRef)(null),U=(0,v.IR)(O.t7),B=U.state,J=U.call,z=U.clearState,H=(0,f.D)((function(e){D((function(t){return t.filter((function(t,n){return n!==e}))})),z()}),[z]),W=(0,h.j)(H),V=(0,f.D)((function(e){var t;switch(e.type){case"user":var n=e.user,r=n.id,a=n.username,o=n.name,s=n.profilePictureKey;t={type:"user",id:r,username:a,name:o,profilePictureKey:s};break;case"email":t={type:"email",email:e.email};break;default:(0,y.t)(e)}D((function(e){return[].concat((0,i.A)(e),[t])})),z()}),[z]),G=(0,f.D)((0,a.A)(regeneratorRuntime.mark((function e(){var a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("done"===(null==r?void 0:r.status)){e.next=2;break}return e.abrupt("return");case 2:if(0!==R.length){e.next=4;break}return e.abrupt("return");case 4:return n.keyType===S.Aj.view&&(0,k.sx)(E.J.shareInViewMode,x({shareType:"email"},n.permissions)),e.next=7,J(r.result,R,K);case 7:"done"===(a=e.sent).status&&(i=a.result.map((function(e){var n,r;return null!==(n=null!==(r=e.name)&&void 0!==r?r:e.email)&&void 0!==n?n:t("Unknown",{translationNote:"An unknown value or person"})})),(0,k.sx)(E.J.inviteTripmates,{count:R.length}),(0,N.oR)({text:t("Your trip plan was sent!"),color:N.TS.default}),D([]),T(i));case 9:case"end":return e.stop()}}),e)}))),[K,R,n,T,J,r,t]),$=(0,l.useMemo)((function(){var e;return[].concat((0,i.A)(R.map((function(e,n){var r,a,i=null;switch(e.type){case"email":a=e.email;break;case"user":a=e.name||e.username||t("Unknown",{translationNote:"An unknown value or person"}),i=e.username;break;case"phoneNumber":a=e.phoneNumber;break;default:(0,y.t)(e),a=t("Unknown",{translationNote:"An unknown value or person"}),i=n}return{label:a,onClick:W(n),clickEvent:null,key:null!==(r=i)&&void 0!==r?r:a}}))),[{label:null,onClick:null===(e=F.current)||void 0===e?void 0:e.focusAndSelect,clickEvent:null,key:"addUserButton",faIcon:m.QL}])}),[W,R,t]);return l.createElement("div",{className:"InviteEmailOrUserSection__section"},l.createElement(g.A,{autosuggestRef:F,label:t("Invite by email or user"),id:"UserAutosuggest",onSelect:V,icon:c.y_,color:"gray"}),R.length>0&&l.createElement(l.Fragment,null,l.createElement("div",{className:"border-top mx-3"}),l.createElement(p.A,{label:t("Sending to",{translationNote:"For displaying recipients"}),chipInfos:$}),l.createElement(b.A,{id:"emailMessage",label:t("Message",{translationNote:"Personalized message text"}),icon:u.cN,value:K,className:"bg-transparent my-1 InviteEmailOrUserSection__textArea",onChange:L,autosize:!0}),l.createElement("div",{className:"d-flex flex-row-reverse pb-3 mx-3"},"error"===(null==r?void 0:r.status)?l.createElement("div",{className:"d-flex flex-column"},l.createElement("div",{className:"text-danger"},r.error?t("Sorry, something went wrong: {{error}}",{error:r.error}):t("Sorry, something went wrong: Keys not loaded")),l.createElement(w.Ay,{label:t("Retry",{translationNote:"Re-attempt an action after failure"}),faIcon:d.ye,color:"brand",size:A.M.mdLg,onClick:j,clickEvent:null,className:"flex-grow-0 mt-2 ml-auto"})):"error"===(null==B?void 0:B.status)?l.createElement("div",{className:"d-flex flex-column"},l.createElement("div",{className:"text-danger"},B.error?t("Sorry, something went wrong: {{error}}",{error:B.error}):t("Sorry, something went wrong: Couldn't send invites")),l.createElement(w.Ay,{label:t("Retry",{translationNote:"Re-attempt an action after failure"}),faIcon:d.ye,color:"brand",size:A.M.mdLg,onClick:G,clickEvent:E.J.sendEmailInvite,className:"flex-grow-0 mt-2 ml-auto"})):l.createElement(w.Ay,{label:t("Send email",{translationNote:"Send electronic mail"}),color:"brand",size:A.M.mdLg,clickEvent:E.J.sendEmailInvite,loading:"inProgress"===(null==r?void 0:r.status)||"inProgress"===(null==B?void 0:B.status),onClick:G}))))}));t.A=P},518326:function(e,t,n){var r=n(364467),a=n(3453),i=n(778291),o=n(296540),s=n(402404),l=n(651954),c=n(158956),u=n(709638),m=n(865619),d=n(239652),p=n(984602),f=n(676088),v=n(71497),g=n(146747),y=n(883499),h=n(968483),b=(n(230278),n(342781));function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=o.memo((function(e){var t=(0,i.Bd)().t,n=e.viewKey,r=(0,o.useRef)(null),w=(0,o.useState)(!0),A=(0,a.A)(w,2),N=A[0],S=A[1],j=(0,o.useState)(!1),x=(0,a.A)(j,2),P=x[0],T=x[1],C=(0,o.useState)(!1),I=(0,a.A)(C,2),R=I[0],D=I[1],M=(0,o.useState)(!1),_=(0,a.A)(M,2),K=_[0],L=_[1],F=(0,o.useState)(!1),U=(0,a.A)(F,2),B=U[0],J=U[1],z=(0,o.useState)(!1),H=(0,a.A)(z,2),W=H[0],V=H[1],G=(0,o.useState)(!1),$=(0,a.A)(G,2),Z=$[0],Y=$[1],q=(0,h.D)((function(){var e=r.current;e&&(e.select(),(0,u.sx)(c.J.copyEmbeddedMapCode,O))}),[r]),Q=(0,o.useMemo)((function(){return E(E(E(E(E({},p.jz),{},{alwaysShowRouteLines:N},P?{omitExternalLinks:P}:{}),R?{omitWebsitePhone:R}:{}),K?{omitWanderlogLogo:K}:{}),B?{omitDescription:B}:{})}),[N,B,P,K,R]),X=(0,p.$h)(n,Q),ee=(0,m.xI)(V,!0),te=(0,m.xI)(Y,!0),ne=y.M.mdLg;return o.createElement(o.Fragment,null,o.createElement("textarea",{ref:r,className:"form-control MapEmbedCodeViewer__embedCode",value:X,onFocus:q,readOnly:!0}),o.createElement("div",{className:"d-flex flex-row-reverse justify-content-between"},o.createElement(v.A,{textToCopy:X,layout:"inline",color:"brand",label:t("Copy embed code"),copiedLabel:t("Copied",{translationNote:"Successfully copied a piece of text to computer clipboard"}),className:"mt-2",clickEvent:c.J.copyEmbeddedMapCode,eventProperties:k,size:ne}),!W&&o.createElement(d.A,{directions:"horizontal"},o.createElement(l.Ay,{layout:"inline",color:"flat-secondary",label:t("Show advanced options"),className:"mt-2",onClick:ee,clickEvent:c.J.showAdvancedEmbeddedMapSettings,size:ne}))),o.createElement(s.A,{isOpen:W},o.createElement(g.A,{value:N,onChange:S,className:"mt-2",label:t("Show route lines"),sublabel:t("If your guide has day plans, checking this will show lines between different places on the same day.")}),o.createElement(g.A,{value:P,onChange:T,className:"mt-2",label:t("Hide helpful links"),sublabel:t("Hide links to Yelp, Tripadvisor, and other sites that can provide more context about a place.")}),o.createElement(g.A,{value:R,onChange:D,className:"mt-2",label:t("Hide place phone number and website"),sublabel:t("Hide a place's official phone number and website. This information is often useful for travelers wanting to contact a place and ask questions.")}),!Z&&o.createElement(d.A,{directions:"horizontal"},o.createElement(l.Ay,{layout:"inline",color:"flat-secondary",label:t("Show other options"),className:"mt-2",onClick:te,clickEvent:c.J.showBrandingEmbeddedMapSettings,size:ne})),o.createElement(s.A,{isOpen:Z},o.createElement(g.A,{value:B,onChange:J,className:"mt-2",label:t("Hide place description"),sublabel:t("Hide the Google Maps-sourced description of the place.")}),o.createElement(g.A,{value:K,onChange:L,className:"mt-2",label:t("Hide {{siteName}} logo",{siteName:b.pu}),sublabel:t("Hide our logo in the right bottom corner. We'd appreciate it if you didn't hide it though!")}))),o.createElement("hr",null),o.createElement("div",null,o.createElement(f.A,{viewKey:n,options:Q})))})),k={source:"button"},O={source:"select"};t.A=A},697252:function(e,t,n){var r=n(778291),a=n(296540),i=n(846874),o=n(762299),s=n(735686),l=n(421975),c=n(518326),u=a.memo((function(e){var t=(0,r.Bd)().t,n=e.isOpen,u=e.onClose,m=e.viewKey;return a.createElement(o.Ay,{isOpen:n,onDismiss:u,size:"xl",isAutomaticallyTriggered:!1,mobilePositionMode:"withMargins"},a.createElement(i.A,null,a.createElement(l.A,{onClick:u}),a.createElement(s.A,{tag:"h3",className:"text-center"},t("Embed map",{translationNote:"Insert map, typically into a webpage"})),a.createElement(c.A,{viewKey:m})))}));t.A=u},526179:function(e,t,n){var r,a=n(58168),i=n(364467),o=n(310467),s=n(89394),l=n(3453),c=n(778291),u=n(296540),m=n(846874),d=n(916756),p=n(968483),f=n(108627),v=n(762299),g=n(695996),y=n(243856),h=n(577180),b=n(349892),w=n(308376),E=n(709638),A=n(158956),k=n(735914),O=n(457440),N=n(247337),S=n(328476),j=n(738067),x=n(476098),P=n(697252),T=n(865619);function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}!function(e){e.main="main",e.manageTripmates="manageTripmates"}(r||(r={}));var R=(0,d.PA)((function(e){var t=(0,c.Bd)().t,n=e.isOpen,i=e.onDismiss,d=e.tripPlanType,C=e.tripPlanId,R=e.tripPlanKey,D=e.tripPlanTitle,M=e.ownerId,_=e.loggedInUserId,K=e.tripmates,L=e.onTripmateChanged,F=e.canShareInViewMode,U=e.defaultShareKeyType,B=(0,b.iG)({tripPlanKey:R,canShareInViewMode:F,defaultShareKeyType:U}),J=B.keyInfo,z=B.handleAccessLevelChange,H=B.handlePermissionsChange,W=(0,b.WZ)({keyInfo:J,tripPlanKey:R}),V=W.shareKeyState,G=W.reloadShareKey,$=(0,b.Og)({tripmates:K,loggedInUserId:_,ownerId:M}),Z=(0,u.useState)(r.main),Y=(0,l.A)(Z,2),q=Y[0],Q=Y[1],X=(0,T.xI)(Q,r.main),ee=(0,p.D)((function(){fe($),ue([]),Q(r.manageTripmates)}),[$]),te=(0,u.useState)(!1),ne=(0,l.A)(te,2),re=ne[0],ae=ne[1],ie=(0,T.xI)(ae,!1),oe=d===y.J.recommendations&&"done"===(null==V?void 0:V.status)&&(0,w.Gx)(V.result.length)===w.Aj.view?V.result:null,se=(0,u.useState)([]),le=(0,l.A)(se,2),ce=le[0],ue=le[1],me=(0,u.useState)(null!=$?$:[]),de=(0,l.A)(me,2),pe=de[0],fe=de[1],ve=(0,u.useState)([]),ge=(0,l.A)(ve,2),ye=ge[0],he=ge[1],be=(0,p.D)((function(e){return he((function(t){return Array.from(new Set([].concat((0,s.A)(t),(0,s.A)(e))))}))}),[]),we=(0,u.useMemo)((function(){return(0,b.aW)(d,(0,w.Gx)(R.length)===w.Aj.edit||null!==_&&K.map((function(e){return e.id})).includes(_),t)}),[_,t,R.length,d,K]),Ee=we.heading,Ae=we.initialMessage,ke=(0,u.useMemo)((function(){return"done"===(null==V?void 0:V.status)?(0,h.mC)({key:V.result,title:D,includeHost:!0,shared:!0}):""}),[V,D]),Oe=(0,p.D)(function(){var e=(0,o.A)(regeneratorRuntime.mark((function e(n){var r,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("done"===(null==V?void 0:V.status)?V.result:null){e.next=11;break}return e.next=4,G();case 4:if("done"!==(r=e.sent).status){e.next=9;break}r.result,e.next=11;break;case 9:return(0,x.oR)({text:null!==(a=r.error)&&void 0!==a?a:t("We failed to fetch the URL. Please try again in a moment."),color:x.TS.danger}),e.abrupt("return");case 11:J.keyType===w.Aj.view&&(0,E.sx)(A.J.shareInViewMode,I({shareType:n},J.permissions)),e.t0=n,e.next=e.t0===f.D.facebook?15:e.t0===f.D.twitter?17:e.t0===f.D.mapEmbed?19:21;break;case 15:return i=(0,O.dR)({url:ke,title:null}),e.abrupt("break",23);case 17:return i=(0,O.Ic)({url:ke,title:Ae}),e.abrupt("break",23);case 19:return ae(!0),e.abrupt("return");case 21:return(0,k.t)(n),e.abrupt("return");case 23:(0,O.QH)(i);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[V,J,G,t,ke,Ae]),Ne=(0,p.D)(function(){var e=(0,o.A)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,j.zj)({tripPlanKey:R,userId:t});case 3:ue((function(e){return[].concat((0,s.A)(e),[t])})),L&&L(t,!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,x.oR)({text:e.t0.message,color:x.TS.danger});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[L,R]),Se=(0,p.D)(function(){var e=(0,o.A)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,j.Az)({tripPlanKey:R,userId:t});case 3:ue((function(e){return e.filter((function(e){return e!==t}))})),L&&L(t,!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,x.oR)({text:e.t0.message,color:x.TS.danger});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),[L,R]),je=(0,p.D)((function(){i(),Q(r.main)}),[i]),xe=(0,u.useMemo)((function(){return{tripPlanId:C,tripPlanKey:R,tripPlanType:d}}),[C,R,d]),Pe=(0,u.useMemo)((function(){var e={size:g.$v.md,headingClassName:"mt-3 mb-0",toggle:je};switch(q){case r.main:return u.createElement(u.Fragment,null,u.createElement(g.Ay,e,Ee),u.createElement(m.A,{className:"pt-2"},u.createElement(S.A,{keyInfo:J,onAccessLevelChange:z,onPermissionsChange:H,onManageTripmatesClick:M===_?ee:null,shareKeyState:V,reloadShareKey:G,onUsersInvited:be,tripPlanTitle:D,eventProperties:xe,onShareOptionClick:Oe,viewKeyForEmbed:oe,initialMessage:Ae})));case r.manageTripmates:return u.createElement(u.Fragment,null,u.createElement(g.Ay,(0,a.A)({},e,{onBack:X}),t("Manage tripmates",{translationNote:"Handle document permissions for editors and viewers"})),u.createElement(m.A,{className:"pt-2"},u.createElement(N.A,{pendingEmails:ye,tripmates:pe,removedTripmatesUserIds:ce,onTripmateRemove:Ne,onTripmateRestore:Se})));default:return(0,k.t)(q),null}}),[pe,xe,z,je,H,Oe,Ne,Se,be,Ee,Ae,J,_,X,ee,M,ye,G,ce,V,q,t,D,oe]);return u.createElement(u.Fragment,null,u.createElement(v.Ay,{isOpen:n&&!re,onDismiss:je,isAutomaticallyTriggered:!1,mobilePositionMode:"withMargins"},Pe),oe&&u.createElement(P.A,{isOpen:re,onClose:ie,viewKey:oe}))}));t.A=R},328476:function(e,t,n){var r=n(778291),a=n(296540),i=n(399355),o=n(15454),s=n(308376),l=n(326515),c=n(349892),u=n(685008),m=n(158956),d=n(651954),p=n(312620),f=n(108627),v=n(577180),g=n(644079),y=a.memo((function(e){var t=(0,r.Bd)().t,n=e.keyInfo,y=e.onAccessLevelChange,h=e.onPermissionsChange,b=e.onManageTripmatesClick,w=e.tripPlanTitle,E=e.initialMessage,A=e.eventProperties,k=e.shareKeyState,O=e.reloadShareKey,N=e.onUsersInvited,S=e.viewKeyForEmbed,j=e.onShareOptionClick,x=(0,a.useMemo)((function(){return"done"===(null==k?void 0:k.status)?{url:(0,v.mC)({key:k.result,title:w,includeHost:!0,shared:!0})}:{url:null,loading:"inProgress"===(null==k?void 0:k.status)}}),[k,w]),P=(0,a.useMemo)((function(){return b&&n.keyType===s.Aj.edit?a.createElement(a.Fragment,null,a.createElement("div",{className:"my-4 border-top"}),a.createElement(d.Ay,{color:"flat-secondary",label:t("Manage tripmates",{translationNote:"Handle document permissions for editors and viewers"}),faIcon:i.Mc,layout:"block-left",onClick:b,clickEvent:m.J.manageTripmates})):h&&n.keyType===s.Aj.view?a.createElement(a.Fragment,null,a.createElement("div",{className:"mt-3 mb-4 border-top"}),a.createElement(p.A,{permissions:n.permissions,onPermissionsChange:h})):null}),[n,b,h,t]);return a.createElement(a.Fragment,null,y&&a.createElement("div",{className:"d-flex align-items-center justify-content-center"},a.createElement(l.A,{value:n.keyType,onSelect:y,options:(0,c.k_)(t)})),a.createElement("div",{className:"mt-3"},n.keyType===s.Aj.view&&a.createElement("div",{className:"mb-3"},a.createElement(g.A,{shareKey:"done"===(null==k?void 0:k.status)?k.result:null})),a.createElement(u.A,{urlInfo:x,copyLinkEvent:m.J.copyShareLink,eventProperties:A}),a.createElement("div",{className:"mt-2"},a.createElement(o.A,{keyInfo:n,shareKeyState:k,reloadShareKey:O,initialMessage:E,onUsersInvited:N})),n.keyType===s.Aj.view&&a.createElement("div",{className:"mt-3"},a.createElement(f.A,{viewKeyForEmbed:S,onShareOptionClick:j,socialShareEvent:m.J.clickSocialShare})),P&&a.createElement(a.Fragment,null,P)))}));t.A=y},247337:function(e,t,n){var r=n(58168),a=n(180045),i=n(778291),o=n(296540),s=n(676201),l=["pendingEmails"],c=o.memo((function(e){var t=(0,i.Bd)(),n=t.t,c=t.i18n,u=e.pendingEmails,m=(0,a.A)(e,l),d=e.tripmates.length,p=(0,o.useMemo)((function(){return u.length?o.createElement("div",{className:"border-top py-4"},o.createElement("div",{className:"font-size-14 font-weight-bold"},n("Email pending",{translationNote:"To show who is waiting for an email that is in queue to be sent"})),o.createElement("div",{className:"font-size-16 color-gray-600"},new Intl.ListFormat(c.resolvedLanguage,{type:"unit"}).format(u))):null}),[c.resolvedLanguage,u,n]);return o.createElement(o.Fragment,null,d?o.createElement(s.A,(0,r.A)({showTripmateCount:!1},m)):o.createElement("div",{className:"pb-4"},n("No tripmates currently in plan")),p)}));t.A=c},312620:function(e,t,n){var r=n(3453),a=n(364467),i=n(778291),o=n(296540),s=n(927231),l=n(968483),c=n(290667),u=n(344482);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=o.memo((function(e){var t=(0,i.Bd)().t,n=e.permissions,a=e.onPermissionsChange,m=(0,l.D)((function(e,t){a(d(d({},n),{},{[e]:t}))}),[a,n]),p=(0,c.j)(m);return o.createElement(o.Fragment,null,o.createElement("span",{className:"font-weight-bold font-size-16"},t("Privacy settings",{translationNote:"For controling level of document access, such as editing or viewing privileges"})),Object.entries(n).map((function(e){var n=(0,r.A)(e,2),a=n[0],i=n[1];return o.createElement("div",{key:a,className:"d-flex flex-nowrap justify-content-between align-items-center mt-2"},o.createElement("div",{className:"d-flex flex-column"},o.createElement("span",{className:"font-size-16"},s.y8[a](t)),o.createElement("span",{className:"font-size-12 color-gray-600"},i?t("Visible",{translationNote:"Can be viewed by others"}):t("Hidden",{translationNote:"Not visible"}))),o.createElement(u.A,{checked:i,onCheckedChange:p(a),clickEvent:null,size:u.W.large}))})))}));t.A=p},644079:function(e,t,n){var r=n(296540),a=n(249922),i=n(56894),o=(n(167461),n(897631)),s=r.memo((function(e){var t=e.shareKey;return r.createElement("div",{className:"ShareMap__container"},t?r.createElement(i.A,{className:"ShareMap__image",src:(0,o.o)(t)}):r.createElement(a.A,null))}));t.A=s},859629:function(e,t,n){var r=n(778291),a=n(296540),i=n(719179),o=n(651954),s=n(320564),l=n(198064),c=n(158956),u=n(239652),m=n(342781),d=a.memo((function(e){var t=(0,r.Bd)().t,n=e.user,d=e.isRemoved,p=e.onRemoveUser,f=e.onRestoreUser,v=n.name,g=n.username,y=(0,l.Zp)(n,t,{light:d});return a.createElement("div",{className:"d-flex align-items-center justify-content-between"},d?a.createElement(a.Fragment,null,a.createElement(s.A,{primaryText:v||g,primaryTextColor:"muted",bubble:y,secondLineText:t("Removed from trip plan")}),a.createElement(u.A,{directions:"horizontal"},a.createElement(o.Ay,{color:"flat",label:t("Undo",{translationNote:"Reverse an action"}),onClick:f,clickEvent:c.J.restoreTripmate,screenReaderLabel:t("Restore tripmate",{translationNote:"Restore previously resciended access permissions to a document viewer or editor"})}))):a.createElement(a.Fragment,null,a.createElement(s.A,{primaryText:v||g,secondLineText:v?"@".concat(g):t("{{siteName}} user",{translationNote:"Registered user of the website",siteName:m.pu}),bubble:y}),a.createElement(o.Ay,{color:"flat",faIcon:i.GR,onClick:p,clickEvent:c.J.removeTripmate,screenReaderLabel:t("Remove tripmate",{translationNote:"Rescind access for a document editor or viewer"}),className:"mr-n2"})))}));t.A=d},676201:function(e,t,n){var r=n(296540),a=n(32485),i=n.n(a),o=n(859629),s=n(290667),l=r.memo((function(e){var t=e.tripmates,n=e.removedTripmatesUserIds,a=e.onTripmateRemove,l=e.onTripmateRestore,c=e.showTripmateCount,u=(0,s.j)(a),m=(0,s.j)(l),d=(0,r.useMemo)((function(){return t.length-n.length}),[t.length,n.length]);return r.createElement("div",null,t.length?r.createElement(r.Fragment,null,c&&r.createElement("div",{className:"text-muted"},d," ",1===d?"tripmate":"tripmates"),t.map((function(e,t){return r.createElement("div",{key:e.id,className:i()("py-3 pr-2 pr-sm-3",{"border-top":0!==t})},r.createElement(o.A,{user:e,isRemoved:n.includes(e.id),onRemoveUser:u(e.id),onRestoreUser:m(e.id)}))}))):null)}));t.A=l},672325:function(e,t,n){var r=n(89394),a=n(58168),i=n(310467),o=n(3453),s=n(180045),l=n(778291),c=n(296540),u=n(901777),m=n(331232),d=n(62043),p=n(613096),f=n(287440),v=n(968483),g=n(735914),y=n(168780),h=["onSelect","autosuggestRef","_testingAutocompleteResults"],b=c.memo((function(e){var t=(0,l.Bd)().t,n=e.onSelect,g=e.autosuggestRef,y=e._testingAutocompleteResults,b=(0,s.A)(e,h),k=(0,c.useState)(!1),O=(0,o.A)(k,2),N=O[0],S=O[1],j=(0,c.useState)(!1),x=(0,o.A)(j,2),P=x[0],T=x[1];(0,c.useEffect)((function(){(0,i.A)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.Sl)("");case 2:e.sent.length>0&&T(!0);case 4:case"end":return e.stop()}}),e)})))()}),[]);var C=(0,v.D)((function(){S(!1)}),[]),I=(0,c.useCallback)((function(e){return c.createElement(u.A,{suggestion:e,showInvalidEmailMessage:N})}),[N]),R=(0,c.useRef)(null),D=(0,v.D)((function(e){e&&(A(e)?S(!0):n(e))}),[n]),M=(0,c.useCallback)((function(e,t){return y||function(e,t){var n={type:"email",email:e},a=""===e?[]:[n];return[Promise.resolve([].concat(a,(0,r.A)(t.filter((function(e){return!(0,f.KK)(e)&&"email"!==e.type}))))),(0,i.A)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.Sl)(e);case 2:return n=t.sent,t.abrupt("return",[].concat(a,(0,r.A)(n.map((function(e){return{type:"user",user:e}})))));case 4:case"end":return t.stop()}}),t)})))()]}(e,t)}),[y]);return c.createElement(d.A,(0,a.A)({},b,{inputProps:w,ref:(0,p.M)(g,R),value:null,placeholder:t(P?"Search by name or enter email":"Enter an email address"),onChange:D,getSuggestions:M,getSuggestionValue:E,renderSuggestion:I,blurBehavior:f.Wb.clear,onInputBlur:C,clearOnSelect:!0,shouldKeepSuggestionsOnSelect:A,shouldRenderSuggestionsWhenEmpty:!0,throttleMs:100}))})),w={type:"email"};function E(e){switch(e.type){case"user":return e.user.name||e.user.username;case"email":return e.email;default:throw(0,g.t)(e)}}function A(e){return"email"===e.type&&!(0,y.B9)(e.email)}t.A=b},897631:function(e,t,n){n.d(t,{o:function(){return i}});var r=n(255512),a=n(729274);function i(e){return"".concat(r.Ay.webPath).concat((0,a.B)(e))}},984602:function(e,t,n){n.d(t,{$h:function(){return y},YV:function(){return h},jz:function(){return d},wU:function(){return g}});var r=n(180045),a=n(364467),i=n(342781),o=n(697157),s=n(255512),l=n(298539),c=["omitAttribution","extraScript"];function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var d={alwaysShowRouteLines:!0,version:2},p={omitExternalLinks:!0,alwaysShowRouteLines:!0,dynamic:!0,omitWebsitePhone:!0,width:!1,version:!1},f=(Object.keys(p).filter((function(e){return p[e]})),["Map provided by","Map courtesy of","Map created using","Map created with","Places mapped by","Trip map courtesy of","Trip map created using","Trip map created with","Map from","This map was made with","This map was created with","Map thanks to"]),v=["a travel planner","the best trip planner app","a vacation planner app","for making itineraries","an itinerary planner","a road trip planner","a road trip planner app","a trip planner","a trip planner app"];function g(e){var t=function(e){var t=(0,l.K)(e),n="".concat(f[t%f.length]," "),r=v[t%v.length];return t%2==0?{beforeLinkText:n,linkText:"".concat(i.pu,", ").concat(r),afterLinkText:""}:{beforeLinkText:n,linkText:i.pu,afterLinkText:", ".concat(r)}}(e),n=t.beforeLinkText,r=t.linkText,a=t.afterLinkText;return[n,'<a href="'.concat(i.vU,'/" target="_blank" rel="noopener">').concat(r,"</a>"),a,' on <a href="'.concat(s.lM.iosAppStoreLink,'" target="_blank" rel="noopener">iOS</a> and <a href="').concat(s.lM.androidPlayStoreLink,'" target="_blank" rel="noopener">Android</a>')].join("").trim()}function y(e,t){var n="".concat(o.hv,"/embed.js"),a='!function(){var c=document.querySelectorAll("script"),r=!1;if(c.forEach((function(c){"'.concat(n,'"===c.src&&(r=!0)})),!r){var t=document.createElement("script");t.async=!0,t.src="').concat(n,'",document.body.appendChild(t)}}();');return function(e,t){var n=t.omitAttribution,a=t.extraScript,i=(0,r.A)(t,c),o=n?"":g(e);return"<script>window.wanderlogEmbedKeys=window.wanderlogEmbedKeys||[];window.wanderlogEmbedKeys.push('".concat(e,"');window.wanderlogEmbedOptions=").concat(JSON.stringify(i),";").concat(a||"",'<\/script><div id="Wanderlog__mapEmbed_').concat(e,'" style="display: block; width: 100%"><div style="font-size: smaller; margin-bottom: 8px">').concat(o,"</div></div>")}(e,m(m({},t),{},{extraScript:a}))}var h="StaticMapEmbed__link"},697157:function(e,t,n){n.d(t,{DW:function(){return i},hv:function(){return r},i1:function(){return o},yI:function(){return a}});var r=n(342781).vU,a="dynamic",i=600,o=480},349892:function(e,t,n){n.d(t,{Og:function(){return j},WZ:function(){return S},aW:function(){return x},iG:function(){return k},k_:function(){return A}});var r=n(89394),a=n(310467),i=n(364467),o=n(3453),s=n(296540),l=n(241811),c=n(308376),u=n(968483),m=n(214649),d=n(927231),p=n(735914),f=n(516506),v=n(738067),g=n(881694),y=n(243856),h=n(342781),b=n(44199);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=(0,l.A)((function(e){return[{value:c.Aj.edit,label:e("Can edit",{translationNote:"Status for someone able to edit a document",maxCharsPerLine:b.O})},{value:c.Aj.view,label:e("View only",{translationNote:"Read-only access to content",maxCharsPerLine:b.O})}]}));function k(e){var t=e.tripPlanKey,n=e.canShareInViewMode,r=e.defaultShareKeyType,a=(0,g.Be)(),i=a.data.tripPlanViewPermissions,l=a.setValue,f=(0,s.useMemo)((function(){return(0,c.Gx)(t.length)}),[t.length]),v=(0,s.useMemo)((function(){return r?f===c.Aj.view?c.Aj.view:r===c.Aj.suggest?((0,m.e)(new Error("Got defaultKeyType: suggest")),c.Aj.view):r:f}),[f,r]),y=i,h=(0,s.useState)(function(e){var t=e.accessKeyType,n=e.sessionViewPermissions;return t===c.Aj.edit?{keyType:c.Aj.edit}:{keyType:c.Aj.view,permissions:null!=n?n:d.D$}}({accessKeyType:v,sessionViewPermissions:y})),b=(0,o.A)(h,2),w=b[0],A=b[1],k=(0,u.D)((function(e){A(e),e.keyType===c.Aj.view&&l("tripPlanViewPermissions",e.permissions)}),[l]),O=(0,u.D)((function(e){if(f===c.Aj.edit&&(e!==c.Aj.view||n))if(e!==c.Aj.suggest){var t,r="permissions"in w?w.permissions:d.D$;switch(e){case c.Aj.edit:t={keyType:c.Aj.edit};break;case c.Aj.view:t={keyType:c.Aj.view,permissions:r};break;default:(0,p.t)(e),t={keyType:c.Aj.view,permissions:r}}k(t)}else(0,m.e)(new Error("Tried to change share mode to suggest"))}),[f,n,w,k]),N=(0,u.D)((function(e){if(f===c.Aj.edit)if(w.keyType===c.Aj.view){var t=E(E({},w),{},{permissions:e});k(t)}else(0,m.e)(new Error("Tried to set permissions when not sharing in view mode"))}),[f,w,k]);return(0,s.useMemo)((function(){return{keyInfo:w,handleAccessLevelChange:f===c.Aj.edit&&n?O:null,handlePermissionsChange:f===c.Aj.edit?N:null}}),[f,n,N,O,w])}function O(e){return N.apply(this,arguments)}function N(){return(N=(0,a.A)(regeneratorRuntime.mark((function e(t){var n,a,i,o,s,l,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.keyInfo,a=t.tripPlanEditKey,i=t.cachedKeyInfo,o=n.keyType,e.t0=o,e.next=e.t0===c.Aj.edit?5:e.t0===c.Aj.view?6:15;break;case 5:return e.abrupt("return",a);case 6:if(s=i.cachedKeys,!(l=s.find((function(e){return Object.values(d.A_).every((function(t){return e.permissions[t]===n.permissions[t]}))})))){e.next=10;break}return e.abrupt("return",l.key);case 10:return e.next=12,(0,v.Hj)({editKey:a,permissions:n.permissions});case 12:return u=e.sent,i.onUpdateCachedKeys([].concat((0,r.A)(i.cachedKeys),[{key:u,permissions:n.permissions}])),e.abrupt("return",u);case 15:return(0,p.t)(o),e.abrupt("return","");case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){var t=e.keyInfo,n=e.tripPlanKey,r=(0,s.useMemo)((function(){return(0,c.Gx)(n.length)}),[n.length]),i=(0,s.useState)([]),l=(0,o.A)(i,2),m=l[0],d=l[1],p=(0,f.IR)((0,u.D)(function(){var e=(0,a.A)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r===c.Aj.edit?O({keyInfo:t,tripPlanEditKey:n,cachedKeyInfo:{cachedKeys:m,onUpdateCachedKeys:d}}):n);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r,m,n])),v=p.call,g=p.state,y=(0,u.D)((function(){return v(t)}),[v,t]);return(0,s.useEffect)((function(){y()}),[y,t]),(0,s.useMemo)((function(){return{shareKeyState:g,reloadShareKey:y}}),[g,y])}function j(e){var t=e.tripmates,n=e.loggedInUserId,r=e.ownerId;return(0,s.useMemo)((function(){return t.filter((function(e){return e.id!==n&&e.id!==r}))}),[n,r,t])}function x(e,t,n){var r,a;switch(e){case y.J.plan:r=t?n("Invite tripmates",{translationNote:"For inviting friends to edit travel itinerary"}):n("Share this trip"),a=n("Check out my trip plan on {{siteName}}! We can collaborate in real time, have all our travel reservations in one place, and so much more. Letâ€™s plan the best trip ever!",{siteName:h.pu});break;case y.J.recommendations:r=n("Share this guide"),a=n(t?"I've written up a travel guide on {{siteName}}; hope it helps for your upcoming trip!":"Take a look at this travel guide on {{siteName}}; hope it helps for your upcoming trip!",{siteName:h.pu});break;case y.J.story:r=n("Share this trip story"),a=n(t?"I've created a trip story on {{siteName}} with my trip and photos; take a look!":"Take a look at this trip story on {{siteName}} with photos and an itinerary from a past trip!",{siteName:h.pu});break;default:(0,p.t)(e),r=n("Share",{translationNote:"Share (typically on social media) to user's contacts"}),a=n("I'm planning my trip on {{siteName}} and wanted to share it with you!",{siteName:h.pu})}return{heading:r,initialMessage:a}}},927231:function(e,t,n){n.d(t,{A_:function(){return r},D$:function(){return o},y8:function(){return s}});var r,a=n(419409),i=n(461289);!function(e){e.showNotes="showNotes",e.showReservations="showReservations"}(r||(r={}));var o={showNotes:!0,showReservations:!1},s={showNotes:(0,a.z)("Notes/checklists",{translationNote:"Notes or checklists",maxCharsPerLine:i.m}),showReservations:(0,a.z)("Travel reservations",{translationNote:"Like hotels, flights, and rental cars",maxCharsPerLine:i.m})}},881631:function(e,t,n){n.d(t,{Vg:function(){return v},WF:function(){return r},f1:function(){return m},hx:function(){return g},jO:function(){return a},nf:function(){return u},oR:function(){return f},vx:function(){return d}});var r,a,i=n(89394),o=n(342781),s=n(308376),l=n(243856),c=n(735914);!function(e){e.editing="editing",e.suggesting="suggesting",e.viewing="viewing"}(r||(r={})),function(e){e.private="private",e.friends="friends",e.public="public"}(a||(a={}));var u,m={[l.J.plan]:a.friends,[l.J.recommendations]:a.public,[l.J.story]:a.friends};s.Aj.edit,r.editing,s.Aj.suggest,r.suggesting,s.Aj.view,r.viewing;function d(e){return e===u.verified||e===u.verifiedAndFeatured||e===u.proOnly}function p(e){var t=e.itinerary,n=e.startDate,r=e.endDate,a=t.sections.map((function(e){return e.date})),o=[n,r].concat((0,i.A)(a)).filter((function(e){return!!e})).sort();return{startDate:o[0]||null,endDate:o[o.length-1]||null}}function f(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isShared:!1},r=e.id,a=e.userId,i=e.contributors,l=e.key,c=e.placeCount,u=e.type,m=p(e),d=m.startDate,f=m.endDate,v=new Date,g=d&&new Date("".concat(d,"T00:00:00Z")),y=f&&new Date("".concat(f,"T23:59:59Z")),h=864e5;return{id:r,key:l,type:u,keyType:(0,s.Gx)(l.length),daysUntilStart:g&&Math.ceil((v.getTime()-g.getTime())/h),daysSinceEnd:y&&Math.ceil((v.getTime()-y.getTime())/h),isCreator:a===t||!t&&a===o.LJ,isContributor:!!i.find((function(e){return e.id===t})),userId:a,loggedInUserId:t,placeCount:c,isShared:n.isShared}}function v(e){var t=e.type,n=e.geos,r=e.isMapEmbed,a=e.t;if(!n.length)switch(t){case l.J.plan:return a("My upcoming trip");case l.J.recommendations:return a("My top recommendations");case l.J.story:return"";default:throw(0,c.t)(t)}var i=n.map((function(e){return e.name}));switch(t){case l.J.plan:return i.length>2?a("Trip to {{geoName1}}, {{geoName2}}, and more",{geoName1:i[0],geoName2:i[1]}):a("Trip to {{geoNames, list}}",{geoNames:i});case l.J.recommendations:return a(r?"{{geoNames, list}} Map":"{{geoNames, list}} Guide",{geoNames:i});case l.J.story:return"";default:throw(0,c.t)(t)}}function g(e){var t=e.type,n=e.key;switch(t){case l.J.recommendations:case l.J.story:return(0,s.Gx)(n.length)===s.Aj.view;case l.J.plan:return!1;default:return(0,c.t)(t),!1}}!function(e){e.promotable="promotable",e.verified="verified",e.verifiedAndFeatured="featured",e.hidden="hidden",e.proOnly="pro-only"}(u||(u={}))},729274:function(e,t,n){function r(e){return"/api/shareMap/".concat(e)}n.d(t,{B:function(){return r}})},109831:function(e,t,n){n.d(t,{$:function(){return r}});var r=n(822227).iP},250187:function(e,t,n){n.d(t,{f:function(){return r}});var r=n(109831).$/2},461289:function(e,t,n){n.d(t,{m:function(){return i}});var r=n(109831),a=n(822227),i=3*r.$/4;a.zx},44199:function(e,t,n){n.d(t,{O:function(){return r}});var r=n(250187).f},116:function(){},268624:function(){},314504:function(){},776938:function(){},230278:function(){},167461:function(){},519029:function(){}}]);