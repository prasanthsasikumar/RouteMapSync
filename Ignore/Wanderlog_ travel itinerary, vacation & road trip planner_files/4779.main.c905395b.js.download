"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4779],{18249:function(e,t,n){var r=n(6638),a=n.n(r),o=n(778291),i=n(296540),c=n(219185),l=n(512241),u=n(158956),s=(n(531809),i.memo((function(e){var t=(0,o.Bd)().t,n=e.onAgeChange,r=e.age,s=e.index,f=(0,i.useMemo)((function(){return a()(18,(function(e){return{value:e,label:0===e?t("Under 1",{translationNote:"For children who are less than 1 year old"}):e.toString(),clickEvent:null}}))}),[t]),g=(0,i.useMemo)((function(){return{tag:"div",type:"custom",children:i.createElement(l.A,{value:0===r?t("Under 1",{translationNote:"For children who are less than 1 year old"}):r,label:t("Age of child {{childIndex, number}}",{childIndex:s+1}),placeholder:t("Select",{translationNote:"To mark for a particular action"}),onClick:d,clickEvent:u.J.changeChildAge,focused:!1,labelClassName:"text-nowrap"})}}),[r,s,t]);return i.createElement(c.A,{value:r,onSelect:n,options:f,toggleOption:g,positionFixed:!0,dropdownMenuClassName:"ChildrenAgeDropdown__dropdown"})}))),d=function(){};t.A=s},523290:function(e,t,n){var r=n(58168),a=n(3453),o=n(778291),i=n(296540),c=n(795093),l=n.n(c),u=n(32485),s=n.n(u),d=n(374350),f=n(405721),g=n(657446),m=n(892325),p=n(651954),h=n(158956),b=n(883499),v=n(968483),k=n(865619),y=n(181081),A=n(324209),E=n(810891),O=n(287440),C=n(531492),x=(n(861938),n(364894)),D=i.memo((function(e){var t=(0,o.Bd)().t,n=e.submit,c=e.guests,u=e.onGuestsChange,D=e.dateRange,S=e.onDateRangeChange,N=e.geo,P=e.onGeoChange,j=e.hotelBookingError,R=e.title,B=e.subtitle,I=e.theme,G=e.fieldsSpacing,L=e.twoRowsOnXsScreens,M=e.geoAutosuggestRef,_=e.appendDatePickerToBody,F=e.focusDateOnGeoChange,H=e.keepDatePickerOpenOnDateSelect,T=e.setLayoutVeryCompactOnAllScreens,W=(0,k.S0)(D),V=(0,a.A)(W,2),K=V[0],z=V[1],U=(0,v.D)((function(e){z(e),e.startDate&&e.endDate&&S(e)}),[S,z]),J=(0,i.useRef)(l()()).current,Z=(0,i.useMemo)((function(){return J.clone().add(E.R9,"year")}),[J]),Q="dark"===I,X=(0,i.useRef)(l()().startOf("day")),Y=(0,i.useState)(!1),$=(0,a.A)(Y,2),q=$[0],ee=$[1],te=(0,i.useRef)(null),ne=(0,v.D)((function(e){var t,n=e.geo;(P(n),F)&&(null===(t=te.current)||void 0===t||t.setFocusedInput("startDate"))}),[F,P]),re=(0,v.D)((function(e){u(e),ee(!1)}),[u]),ae=(0,i.useCallback)((function(e){return i.createElement(p.Ay,{label:t("Search",{translationNote:"Look for results fitting a specific criteria"}),color:Q?"dark":"brand",size:b.M.lg,onClick:e.onBookingSubmit,clickEvent:h.J.clickSearchForBookings,loading:e.isLoading,layout:"inline"})}),[Q,t]),oe={dates:K,onDatesChange:U,headerHeight:0,label:t("When",{translationNote:"Helps specify a calendar date and/or time"}),startDatePlaceholderText:t("Check-in",{translationNote:"Check in calendar date"}),endDatePlaceholderText:t("Check-out",{translationNote:"Check out calendar date"}),showIcons:g.K.startDate,inputSize:"md",color:Q?"white":"gray",isOutsideRange:(0,i.useCallback)((function(e){return e<X.current||e.isAfter(Z)||!!D.startDate&&!D.endDate&&e.isAfter((0,A.Ws)(D.startDate).add(E.HG,"days"))}),[D.endDate,D.startDate,Z]),maxDate:Z,appendToBody:(0,C.xl)()?_:void 0,keepOpenOnDateSelect:null!=H&&H,inputRef:te},ie=(0,i.useState)(!1),ce=(0,a.A)(ie,2),le=ce[0],ue=ce[1],se=(0,k.eY)(le,ue),de=(0,v.D)((function(){n&&(n.onBookingSubmit(),ue(!0))}),[n]),fe=(0,i.useMemo)((function(){return n?{onBookingSubmit:de,isLoading:n.isLoading}:null}),[de,n]);return i.createElement(y.Ay,null,i.createElement("div",{className:G},R&&i.createElement("div",{className:"font-weight-bold font-size-24 w-100"},R),B&&i.createElement("div",{className:s()("w-100",{"mt-2":R})},B.text," ",i.createElement(d.A,{className:"text-nowrap text-body font-weight-bold",to:B.learnMoreLink},t("Learn more",{translationNote:"Access more content or options"})),"."),i.createElement("div",{className:s()("d-flex w-100 align-items-center",{"mt-3":R||B},L&&"flex-wrap ".concat((0,y.bl)("flex-sm-nowrap")))},i.createElement(x.A,{body:null!=j?j:"",isAutomaticallyTriggered:!1,theme:x.t.error,isOpen:null!==j&&le,hideDismissButton:!1,positionFixed:!1,toggle:se,placement:"bottom"},i.createElement("div",{className:"flex-grow-1 w-100"},i.createElement(f.A,{ref:M,id:"HotelBookingView__geoPicker",value:N,onChange:ne,label:t("Where",{translationNote:"Helps specify a geographic location"}),placeholder:t("Search destinations",{translationNote:"Look for geographical locations"}),color:Q?"white":"gray",ownInputProps:w,blurBehavior:O.Wb.retain}))),i.createElement("div",{className:s()("d-flex flex-nowrap flex-grow-1",L?"mt-3 ml-0 ".concat((0,y.bl)("mt-sm-0")," \n                  ").concat((0,y.bl)("ml-sm-2")):"ml-2")},i.createElement(g.A,(0,r.A)({className:"flex-grow-1 mr-2 d-block ".concat((0,y.bl)("d-sm-none"))},oe,{startDatePlaceholderText:K.endDate?t("Check-in",{translationNote:"Check in calendar date"}):t("Dates",{translationNote:"Calendar dates"}),endDatePlaceholderText:K.startDate?t("Check-out",{translationNote:"Check out calendar date"}):void 0,layout:"veryCompact"})),i.createElement(g.A,(0,r.A)({className:s()("mr-2 d-none ".concat((0,y.bl)("d-sm-block")," ").concat((0,y.bl)("d-md-none")),{HotelBookingView__mediumScreenDatePicker:!T})},oe,{layout:T?"veryCompact":"compact"})),i.createElement(g.A,(0,r.A)({className:"mr-2 d-none ".concat((0,y.bl)("d-md-block"))},oe,{anchorDirection:T?void 0:"right",layout:T?"veryCompact":"default"})),i.createElement(m.A,{isOpen:q,onIsOpenChange:ee,initialGuests:c,onGuestsChange:re,size:"md",color:Q?"white":"gray"})),fe&&i.createElement("div",{className:s()("d-none align-items-center h-100 ml-2",(0,y.bl)("d-sm-flex"))},ae(fe))),fe&&i.createElement("div",{className:s()("mt-3 text-center",(0,y.bl)("d-sm-none"))},ae(fe))))})),w={boldUnfocusedLabel:!0,alwaysFocused:!0};t.A=D},965183:function(e,t,n){var r=n(296540),a=n(814133),o=n(328045),i=n(651954),c=n(654332),l=(n(158115),r.memo((function(e){var t=e.className,n=e.icon,l=e.label,u=e.count,s=e.onCountChange,d=e.minCount||0,f=e.maxCount||99;return r.createElement("div",{className:"d-flex align-items-center justify-content-between ".concat(t||"")},r.createElement("div",{className:"d-flex align-items-center"},r.createElement(c.A,{icon:n,fixedWidth:!0}),r.createElement("div",{className:"ml-3"},l)),r.createElement("div",{className:"d-flex align-items-center"},r.createElement(i.Ay,{faIcon:a.EZ,layout:"inline",color:"gray",onClick:(0,r.useCallback)((function(){return s(u-1)}),[s,u]),clickEvent:null,disabled:u<=d}),r.createElement("div",{className:"IconLabelCounterRow__counter"},r.createElement("div",{className:"font-weight-bold"},u)),r.createElement(i.Ay,{faIcon:o.QL,layout:"inline",color:"gray",onClick:(0,r.useCallback)((function(){return s(u+1)}),[s,u]),clickEvent:null,disabled:u>=f})))})));t.A=l},648204:function(e,t,n){var r=n(778291),a=n(296540),o=n(651954),i=n(883499),c=a.memo((function(e){var t=(0,r.Bd)().t;return a.createElement("div",{className:"d-flex align-items-center justify-content-end"},a.createElement(o.Ay,{label:t("Reset",{translationNote:"Set selected options to default"}),layout:"inline",color:"flat-secondary",size:i.M.mdLg,onClick:e.onClearAndClose,clickEvent:e.clearEvent}),a.createElement(o.Ay,{label:e.submitLabel||t("View results",{translationNote:"Get search results"}),layout:"inline",color:"brand",size:i.M.mdLg,onClick:e.onSubmitAndClose,clickEvent:e.submitEvent}))}));t.A=c},422522:function(e,t,n){var r=n(296540),a=n(350950),o=n(966089),i=n(654332),c=n(980602),l=r.memo((function(e){var t=e.guests;return r.createElement("div",{className:"d-flex align-items-center"},r.createElement(i.A,{icon:a.T4,color:c.jh,size:"xs",className:"mr-2"}),r.createElement("div",null,t.roomCount),r.createElement(i.A,{icon:o.O2,color:c.jh,className:"mx-2",size:"xs"}),r.createElement("div",null,t.adultCount+t.childrenAges.length))}));t.A=l},892325:function(e,t,n){var r=n(3453),a=n(778291),o=n(296540),i=n(966089),c=n(32485),l=n.n(c),u=n(997282),s=n(865619),d=n(158956),f=n(978849),g=n(422522),m=n(512241),p=(n(602455),n(654332)),h=n(980602),b=n(228825),v=n(648204),k=n(968483),y=o.memo((function(e){var t=(0,a.Bd)().t,n=e.size,c=void 0===n?"sm":n,y=e.isOpen,E=e.onIsOpenChange,O=e.onGuestsChange,C=e.color,x=e.initialGuests,D=(0,s.S0)(x,y),w=(0,r.A)(D,2),S=w[0],N=w[1],P=(0,k.D)((function(){O(S),E(!1)}),[S,O,E]),j=(0,k.D)((function(){y?P():E(!0)}),[P,y,E]),R=(0,o.useCallback)((function(){return o.createElement(o.Fragment,null,o.createElement("div",{className:"d-none d-sm-block"},o.createElement(m.A,{label:t("Rooms, guests",{translationNote:"For selecting number of rooms and guests for booking lodging"}),placeholder:null,value:o.createElement(g.A,{guests:S}),onClick:j,clickEvent:null,focused:!1,size:c,color:C})),o.createElement(b.A,{className:l()("RoomsAndGuestsDropdown__smButton d-sm-none d-flex align-items-center justify-content-center p-3","gray"===C?"bg-gray-100":"RoomsAndGuestsDropdown__white"),onClick:j,clickEvent:null},o.createElement(p.A,{icon:i.O2,color:h.jh,className:"mx-1",size:"xs"}),o.createElement("div",null,S.adultCount+S.childrenAges.length)))}),[C,S,c,t,j]),B=(0,o.useCallback)((function(){return o.createElement(o.Fragment,null,o.createElement("div",{className:"font-weight-bold mr-4"},t("Rooms and guests")),o.createElement(f.A,{guests:S,onGuestsChange:N}),o.createElement("div",{className:"mt-3"},o.createElement(v.A,{submitLabel:t("Save",{translationNote:"Save changes made"}),onSubmitAndClose:P,submitEvent:d.J.changeLodgingGuests,onClearAndClose:j,clearEvent:null})))}),[S,P,N,t,j]);return o.createElement(u.A,{direction:"down",isOpen:y,onIsOpenChange:E,renderToggleButton:R,renderDropdownMenuInner:B,dropdownMenuProps:A,showAsBottomSheetOnMobile:!0})})),A={container:"body",className:"p-3 RoomsAndGuestsDropdown__dropdownMenu"};t.A=y},978849:function(e,t,n){var r=n(89394),a=n(364467),o=n(778291),i=n(296540),c=n(350950),l=n(604291),u=n(164850),s=n(32485),d=n.n(s),f=n(965183),g=n(968483),m=n(18249),p=n(290667);function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=i.memo((function(e){var t=(0,o.Bd)().t,n=e.guests,a=e.onGuestsChange,s=n.roomCount,h=n.adultCount,v=n.childrenAges,k=(0,g.D)((function(e){a(b(b({},n),{},{roomCount:e,adultCount:Math.max(h,e)}))}),[n,a,h]),y=(0,g.D)((function(e){a(b(b({},n),{},{adultCount:e,roomCount:Math.min(e,s)}))}),[n,a,s]),A=(0,g.D)((function(e){var t=n.childrenAges.length,o=t<e?e-t:0;a(b(b({},n),{},{childrenAges:[].concat((0,r.A)(n.childrenAges.slice(0,e)),(0,r.A)(Array(o).fill(0)))}))}),[n,a]),E=(0,g.D)((function(e,t){var o=(0,r.A)(n.childrenAges);o[e]=t,a(b(b({},n),{},{childrenAges:o}))}),[n,a]),O=(0,p.j)(E);return i.createElement(i.Fragment,null,i.createElement(f.A,{icon:c.T4,label:t("Rooms",{translationNote:"Rooms in a lodging"}),count:s,onCountChange:k,className:"my-2",minCount:1,maxCount:9}),i.createElement(f.A,{icon:u.X4,label:t("Adults",{translationNote:"For displaying number of adult guests"}),count:h,onCountChange:y,className:"mb-2",minCount:1,maxCount:15}),i.createElement(f.A,{icon:l.wo,label:t("Children",{translationNote:"Minors"}),count:v.length,onCountChange:A,maxCount:6}),v.length>0&&i.createElement("div",{className:"mt-3"},i.createElement("div",{className:"row no-gutters"},v.map((function(e,t){return i.createElement("div",{key:t,className:d()("col-6",t>1&&"pt-2",t%2==0&&"pr-2")},i.createElement(m.A,{onAgeChange:O(t),age:e,index:t}))})))))}));t.A=v},82661:function(e,t,n){n.d(t,{A:function(){return m},p:function(){return p}});var r=n(58168),a=n(23029),o=n(92901),i=n(885501),c=n(56822),l=n(353954),u=n(3453),s=n(296540),d=n(962393);function f(e){var t=g();return function(){var n,r=(0,l.A)(e);if(t){var a=(0,l.A)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return(0,c.A)(this,n)}}function g(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(g=function(){return!!e})()}var m=function(){var e=(0,s.useState)(!0),t=(0,u.A)(e,2),n=t[0],r=t[1];return(0,s.useEffect)((function(){return r(!1)}),[]),n};function p(e){var t=e,n=function(e){(0,i.A)(c,e);var n=f(c);function c(){var e;(0,a.A)(this,c);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(e=n.call.apply(n,[this].concat(r))).state={isServerSideRender:!0},e}return(0,o.A)(c,[{key:"componentDidMount",value:function(){this.setState({isServerSideRender:!1})}},{key:"render",value:function(){var e=this.props.forwardedRef,n=this.state.isServerSideRender;return s.createElement(t,(0,r.A)({isServerSideRender:n},this.props,{ref:e}))}}]),c}(s.PureComponent);return n.displayName="WithIsServerSideRender",(0,d.c)({HOC:n,OriginalComponent:e})}},693628:function(e,t,n){n.d(t,{C6:function(){return r},OH:function(){return h},TM:function(){return g}});var r,a,o=n(89394),i=n(364467),c=n(897566),l=n(859787),u=n(332048),s=n(255512);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,i.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function g(e){return(0,l.lE)(f(f({},e),{},{experimentName:c.up.hotelBackEnd,variants:p,regenerateDeprecatedVariant:!0,devVariant:r.kayakExpediaAirbnbAndGoogle}))}!function(e){e.kayakExpediaAirbnbAndGoogle="Kayak Expedia Airbnb and Google",e.kayakWhiteLabel="Kayak white-label"}(r||(r={})),function(e){e.expedia="Expedia",e.kayak="Kayak",e.kayakAndExpedia="Kayak and Expedia",e.kayakExpediaAndAirbnb="Kayak Expedia and Airbnb"}(a||(a={}));var m=(0,o.A)(s.Ay.launchGoogleLodgings?[r.kayakExpediaAirbnbAndGoogle]:[]),p=[].concat((0,o.A)(m.map((function(e){return{name:e,weight:75/m.length}}))),[{name:r.kayakWhiteLabel,weight:25}]),h={[r.kayakExpediaAirbnbAndGoogle]:{page:"lodgingSearch",sources:[u.dx.airbnb,u.dx.expedia,u.dx.kayak,u.dx.google]},[r.kayakWhiteLabel]:{page:"kayakWhiteLabel"}}},810891:function(e,t,n){n.d(t,{HG:function(){return d},R9:function(){return u},SQ:function(){return l},T8:function(){return c}});n(6638);var r=n(795093),a=n.n(r),o=n(419409),i=n(324209);function c(e){var t=e.startDate,n=e.endDate;if(!t||!n)return!1;var r=a().utc().startOf("day").subtract(1,"day"),o=(0,i.Ws)(t),c=(0,i.Ws)(n),l=c.diff(o,"days"),f=function(e){var t=e.startDate,n=e.endDate,r=(0,i.Ws)(t);return(0,i.Ws)(n).diff(r,"days")<=d}({startDate:t,endDate:n});return!(o.isBefore(r)||c.isBefore(r)||l<1||!f||o.diff(r,"years")>=u||c.diff(r,"years")>=s)}var l=(0,o.z)("Check-in and check-out dates must be in the future, no more than 28 days apart, and must be within the next year."),u=1,s=1,d=28},183400:function(e,t,n){n.d(t,{IB:function(){return l},dZ:function(){return f},hF:function(){return g},uu:function(){return d}});var r=n(296540),a=n(418701),o=n(36999),i=n(962393),c=(0,a.C)({hotelBookingFields:null},{name:"WithHotelBookingFields"}),l=(c.withProps,c.ContextProvider),u=c.Context,s={geo:null,checkIn:null,checkOut:null,tripmatesInPlan:null,onOverlayOpen:null,guests:null};function d(){var e=(0,r.useContext)(u).hotelBookingFields;return(0,o.g)(e,s,"HotelBookingFieldsProvider")}var f=r.memo((function(e){return r.createElement(l,{hotelBookingFields:s},e.children)}));function g(e){var t=r.memo((function(t){var n=e;return r.createElement(f,null,r.createElement(n,t))}));return(0,i.c)({HOC:t,OriginalComponent:e})}},224342:function(e,t,n){n.d(t,{K:function(){return a}});var r=n(296540);function a(e,t){return(0,r.useMemo)((function(){return e?t():null}),[t,e])}},517093:function(e,t,n){n.d(t,{c:function(){return N}});var r=n(89394),a=n(364467),o=n(310467),i=n(3453),c=n(180045),l=n(296540),u=n(778291),s=n(968483),d=n(15870),f=n(516506),g=n(964016),m=n(183400),p=n(545594),h=n(89805),b=n(255512),v=n(403305),k=n(810891),y=n(693628),A=n(616041),E=n(881694),O=n(735914),C=n(228351),x=n(389225),D=["anonymousId","tripPlanKey","exploreGeoId","loginToken"];function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function N(e){var t,n=e.anonymousId,a=e.tripPlanKey,w=e.exploreGeoId,N=e.loginToken,P=(0,c.A)(e,D),j=(0,g.E)(P),R=(0,m.uu)().onOverlayOpen,B=(0,l.useState)(!1),I=(0,i.A)(B,2),G=I[0],L=I[1],M=(0,u.Bd)().t;(0,l.useEffect)((function(){return function(){return L(!1)}}),[]);var _=(0,l.useMemo)((function(){var e=j.dateRange;return function(e,t){if(!e.geo){return{type:"error",message:t("Please fill in where you're staying to search for hotels")}}if(!e.dateRange.startDate||!e.dateRange.endDate){return{type:"error",message:t("Please fill in the dates of your stay to search for hotels.")}}var n=e.dateRange,r=n.startDate,a=n.endDate;if(!(0,k.T8)({startDate:r,endDate:a}))return{type:"error",message:(0,k.SQ)(t)};return{type:"success",value:S({checkIn:r,checkOut:a,geo:e.geo},e.guests)}}({geo:j.geo,guests:j.guests,dateRange:e},M)}),[j,M]),F=(0,s.D)((function(){if(L(!0),"error"===_.type)throw new Error(_.message);return _.value}),[_]),H=(0,s.D)((0,o.A)(regeneratorRuntime.mark((function e(){var t,n,r,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L(!0),"error"!==_.type){e.next=3;break}throw new Error(_.message);case 3:if(t=_.value,n=t.geo,r=n.latitude,!(a=n.longitude)||!r){e.next=11;break}return e.next=8,(0,d.o5)({place:{longitude:a,latitude:r},cityNameToMatch:t.geo.name});case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=null;case 12:if(o=e.t0){e.next=15;break}throw new Error("A valid city for booking could not be found. Please try a different city.");case 15:return e.abrupt("return",S(S({},t),{},{geo:o}));case 16:case"end":return e.stop()}}),e)}))),[_]),T=(0,A.nc)(),W=(0,E.Be)(),V=W.data.recentHotelSearches,K=W.setValue,z=(0,y.TM)({isStoryshots:(0,x.o6)()}),U=z in y.OH?y.OH[z]:y.OH[y.C6.kayakExpediaAirbnbAndGoogle],J=(0,l.useMemo)((function(){return(null!=V?V:[]).map((function(e){switch(e.page){case"lodgingSearch":return"lodgingSearch"!==U.page?null:S(S({},e),{},{hotelBackEndVariant:z,sources:U.sources});case"kayakWhiteLabel":return S(S({},e),{},{hotelBackEndVariant:z});default:return(0,O.t)(e),null}})).filter(C.G)}),[z,U,V]),Z=(0,f.IR)((0,s.D)((0,o.A)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t={hotelBackEndVariant:z},"lodgingSearch"!==U.page){e.next=5;break}return e.abrupt("return",S(S({},t),{},{page:"lodgingSearch",info:F(),sources:U.sources}));case 5:return e.t0=S,e.t1=S({},t),e.t2={},e.next=10,H();case 10:return e.t3=e.sent,e.t4={page:"kayakWhiteLabel",info:e.t3},e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t4));case 13:case"end":return e.stop()}}),e)}))),[H,F,z,U])),Q=Z.state,X=Z.call,Y=(0,s.D)(function(){var e=(0,o.A)(regeneratorRuntime.mark((function e(t){var o,i,c,l,u,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,X();case 2:if(o=e.sent,i=t||"done"===o.status&&o.result){e.next=6;break}return e.abrupt("return",null);case 6:if(t||(10,c=[i].concat((0,r.A)(J||[])).slice(0,10),K("recentHotelSearches",c)),"kayakWhiteLabel"!==i.page){e.next=21;break}if(!R){e.next=14;break}return l={type:"kayak",kayakInfo:i.info},R(l),e.abrupt("return",null);case 14:if(!(0,p.l)()){e.next=18;break}return e.abrupt("return",(0,h.Fz)({bookingInfo:i.info,isProduction:(0,b.KV)(),anonymousId:n||"",userId:null!==(u=null===(s=T.user)||void 0===s?void 0:s.id)&&void 0!==u?u:null,hotelBackEndVariant:i.hotelBackEndVariant}));case 18:return e.abrupt("return",(0,v.ty)(i.info));case 19:e.next=27;break;case 21:if("lodgingSearch"!==i.page){e.next=25;break}return e.abrupt("return",(0,v.an)({bookingInfo:i,tripPlanKey:a,exploreGeoId:w,loginToken:N}));case 25:return(0,O.t)(i),e.abrupt("return",(0,v.ty)(i));case 27:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[X,J,K,R,n,null===(t=T.user)||void 0===t?void 0:t.id,a,w,N]),$=(0,l.useMemo)((function(){return G&&"error"===_.type?_.message:null}),[G,_]);return S(S({},j),{},{hotelBookingError:$,isBookingInfoLoading:"inProgress"===(null==Q?void 0:Q.status),onGetKayakBookingInfo:X,onGetHotelBookingUrl:Y,recentHotelSearches:J})}},964016:function(e,t,n){n.d(t,{E:function(){return s}});var r=n(310467),a=n(3453),o=n(296540),i=n(968483),c=n(183400),l=n(15870),u=n(149916);function s(e){var t=e.geo,n=e.checkIn,s=e.checkOut,d=e.guests,f=(0,u.e)({checkIn:n,checkOut:s,guests:d}),g=f.dateRange,m=f.onDateRangeChange,p=f.guests,h=f.onGuestsChange,b=(0,c.uu)().geo,v=(t&&"id"in t&&"longitude"in t?t:null)||b,k=(0,o.useState)(v||null),y=(0,a.A)(k,2),A=y[0],E=y[1],O=(0,i.D)(function(){var e=(0,r.A)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!("geoId"in t)){e.next=10;break}if((null==t?void 0:t.geoId)===(null==A?void 0:A.id)){e.next=8;break}return e.t0=E,e.next=6,(0,l.KI)(t.geoId);case 6:e.t1=e.sent,(0,e.t0)(e.t1);case 8:e.next=19;break;case 10:if("id"in t){e.next=18;break}return e.t2=E,e.next=14,(0,l.Z8)(t);case 14:e.t3=e.sent,(0,e.t2)(e.t3),e.next=19;break;case 18:E(t);case 19:e.next=23;break;case 21:e.prev=21,e.t4=e.catch(0);case 23:case"end":return e.stop()}}),e,null,[[0,21]])})));return function(t){return e.apply(this,arguments)}}(),[null==A?void 0:A.id,E]);return(0,o.useEffect)((function(){t&&O(t)}),[t,O]),{dateRange:g,onDateRangeChange:m,guests:p,onGuestsChange:h,geo:A,onGeoChange:E}}},149916:function(e,t,n){n.d(t,{e:function(){return m}});var r=n(3453),a=n(296540),o=n(795093),i=n.n(o),c=n(968483),l=n(709638),u=n(158956),s=n(324209),d=n(183400),f=n(865619),g=n(475426);function m(e){var t=e.checkIn,n=e.checkOut,o=e.guests,m=(0,d.uu)(),h=m.checkIn,b=m.checkOut,v=m.tripmatesInPlan,k=t||h,y=n||b,A=v&&v>=2?v:2,E=(0,a.useMemo)((function(){return null!=o?o:{roomCount:Math.ceil(A/p),adultCount:A,childrenAges:[]}}),[A,o]),O=(0,f.S0)(E),C=(0,r.A)(O,2),x=C[0],D=C[1],w=(0,c.D)((function(e){(0,l.sx)(u.J.changeLodgingGuests),D(e)}),[D]),S=i()(),N=(0,s.kT)(S),P=k&&N<=k?k:(0,g.l)().startDate,j=(0,a.useMemo)((function(){return{startDate:P,endDate:y&&y>P?y:(0,g.l)().endDate}}),[P,y]),R=(0,f.S0)(j),B=(0,r.A)(R,2),I=B[0],G=B[1];return{dateRange:I,onDateRangeChange:(0,c.D)((function(e){(0,l.sx)(u.J.changeLodgingDates),G(e)}),[G]),guests:x,onGuestsChange:w}}var p=2},859787:function(e,t,n){n.d(t,{hZ:function(){return b},lE:function(){return h}});var r=n(180045),a=n(364467),o=n(296540),i=n(616041),c=n(881694),l=n(259074),u=n(968483),s=n(224342),d=n(82661),f=n(537732),g=["shouldGetVariant"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,a.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){return b(p({shouldGetVariant:!0},e))}function b(e){var t=e.shouldGetVariant,n=(0,r.A)(e,g),a=(0,i.nc)(),m=(0,c.Be)(),h=(0,d.A)(),b=(0,f.eg)(),v=(0,u.D)((function(){return(0,l.g$)(p(p({},n),{},{auth:a,session:m,isServerSideRender:h,forceFirstVariantForServerRender:b}))}),[n,a,m,h,b]),k=(0,u.D)((function(){return v()}),[v]),y=(0,o.useCallback)((function(){return k()}),[b,k]);return(0,s.K)(t,y)}},531809:function(){},861938:function(){},158115:function(){},602455:function(){}}]);